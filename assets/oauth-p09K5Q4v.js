var Qi=Object.defineProperty;var Xi=(n,e,t)=>e in n?Qi(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var U=(n,e,t)=>(Xi(n,typeof e!="symbol"?e+"":e,t),t);function Zi(n){return tn(n)&&!Un(n)&&!Qe(n)&&Symbol.asyncIterator in n}function Un(n){return Array.isArray(n)}function pr(n){return typeof n=="bigint"}function Ye(n){return typeof n=="boolean"}function yr(n){return n instanceof globalThis.Date}function Vi(n){return typeof n=="function"}function hi(n){return tn(n)&&!Un(n)&&!Qe(n)&&Symbol.iterator in n}function vi(n){return n===null}function Kn(n){return typeof n=="number"}function tn(n){return typeof n=="object"&&n!==null}function no(n){return n instanceof globalThis.RegExp}function _(n){return typeof n=="string"}function eo(n){return typeof n=="symbol"}function Qe(n){return n instanceof globalThis.Uint8Array}function B(n){return n===void 0}function to(n){return n.map(e=>ze(e))}function ro(n){return new Date(n.getTime())}function io(n){return new Uint8Array(n)}function oo(n){return new RegExp(n.source,n.flags)}function uo(n){const e=Object.getOwnPropertyNames(n).reduce((r,i)=>({...r,[i]:ze(n[i])}),{}),t=Object.getOwnPropertySymbols(n).reduce((r,i)=>({...r,[i]:ze(n[i])}),{});return{...e,...t}}function ze(n){return Un(n)?to(n):yr(n)?ro(n):Qe(n)?io(n):no(n)?oo(n):tn(n)?uo(n):n}function so(n){return ze(n)}function Nn(n){return n.map(e=>I(e))}function I(n,e={}){return{...so(n),...e}}class X extends Error{constructor(e){super(e)}}const Fn=Symbol.for("TypeBox.Transform"),Xe=Symbol.for("TypeBox.Readonly"),Qn=Symbol.for("TypeBox.Optional"),Ze=Symbol.for("TypeBox.Hint"),a=Symbol.for("TypeBox.Kind"),co=["Any","Array","AsyncIterator","BigInt","Boolean","Constructor","Date","Enum","Function","Integer","Intersect","Iterator","Literal","MappedKey","MappedResult","Not","Null","Number","Object","Promise","Record","Ref","RegExp","String","Symbol","TemplateLiteral","This","Tuple","Undefined","Union","Uint8Array","Unknown","Void"];function ar(n){try{return new RegExp(n),!0}catch{return!1}}function Ot(n){if(!_(n))return!1;for(let e=0;e<n.length;e++){const t=n.charCodeAt(e);if(t>=7&&t<=13||t===27||t===127)return!1}return!0}function lr(n){return Pt(n)||w(n)}function ge(n){return B(n)||pr(n)}function j(n){return B(n)||Kn(n)}function Pt(n){return B(n)||Ye(n)}function A(n){return B(n)||_(n)}function fo(n){return B(n)||_(n)&&Ot(n)&&ar(n)}function mo(n){return B(n)||_(n)&&Ot(n)}function $r(n){return B(n)||w(n)}function po(n){return tn(n)&&n[Xe]==="Readonly"}function An(n){return tn(n)&&n[Qn]==="Optional"}function bn(n){return M(n,"Any")&&A(n.$id)}function wn(n){return M(n,"Array")&&n.type==="array"&&A(n.$id)&&w(n.items)&&j(n.minItems)&&j(n.maxItems)&&Pt(n.uniqueItems)&&$r(n.contains)&&j(n.minContains)&&j(n.maxContains)}function Re(n){return M(n,"AsyncIterator")&&n.type==="AsyncIterator"&&A(n.$id)&&w(n.items)}function Ne(n){return M(n,"BigInt")&&n.type==="bigint"&&A(n.$id)&&ge(n.exclusiveMaximum)&&ge(n.exclusiveMinimum)&&ge(n.maximum)&&ge(n.minimum)&&ge(n.multipleOf)}function zn(n){return M(n,"Boolean")&&n.type==="boolean"&&A(n.$id)}function ce(n){return M(n,"Constructor")&&n.type==="Constructor"&&A(n.$id)&&Un(n.parameters)&&n.parameters.every(e=>w(e))&&w(n.returns)}function Ve(n){return M(n,"Date")&&n.type==="Date"&&A(n.$id)&&j(n.exclusiveMaximumTimestamp)&&j(n.exclusiveMinimumTimestamp)&&j(n.maximumTimestamp)&&j(n.minimumTimestamp)&&j(n.multipleOfTimestamp)}function fe(n){return M(n,"Function")&&n.type==="Function"&&A(n.$id)&&Un(n.parameters)&&n.parameters.every(e=>w(e))&&w(n.returns)}function ln(n){return M(n,"Integer")&&n.type==="integer"&&A(n.$id)&&j(n.exclusiveMaximum)&&j(n.exclusiveMinimum)&&j(n.maximum)&&j(n.minimum)&&j(n.multipleOf)}function xr(n){return tn(n)&&Object.entries(n).every(([e,t])=>Ot(e)&&w(t))}function Z(n){return M(n,"Intersect")&&!(_(n.type)&&n.type!=="object")&&Un(n.allOf)&&n.allOf.every(e=>w(e)&&!k(e))&&A(n.type)&&(Pt(n.unevaluatedProperties)||$r(n.unevaluatedProperties))&&A(n.$id)}function Ae(n){return M(n,"Iterator")&&n.type==="Iterator"&&A(n.$id)&&w(n.items)}function M(n,e){return tn(n)&&a in n&&n[a]===e}function gr(n){return $n(n)&&_(n.const)}function Ir(n){return $n(n)&&Kn(n.const)}function Fr(n){return $n(n)&&Ye(n.const)}function $n(n){return M(n,"Literal")&&A(n.$id)&&yo(n.const)}function yo(n){return Ye(n)||Kn(n)||_(n)}function Xn(n){return M(n,"MappedKey")&&Un(n.keys)&&n.keys.every(e=>Kn(e)||_(e))}function dn(n){return M(n,"MappedResult")&&xr(n.properties)}function Ln(n){return M(n,"Never")&&tn(n.not)&&Object.getOwnPropertyNames(n.not).length===0}function te(n){return M(n,"Not")&&w(n.not)}function wt(n){return M(n,"Null")&&n.type==="null"&&A(n.$id)}function W(n){return M(n,"Number")&&n.type==="number"&&A(n.$id)&&j(n.exclusiveMaximum)&&j(n.exclusiveMinimum)&&j(n.maximum)&&j(n.minimum)&&j(n.multipleOf)}function R(n){return M(n,"Object")&&n.type==="object"&&A(n.$id)&&xr(n.properties)&&lr(n.additionalProperties)&&j(n.minProperties)&&j(n.maxProperties)}function me(n){return M(n,"Promise")&&n.type==="Promise"&&A(n.$id)&&w(n.item)}function G(n){return M(n,"Record")&&n.type==="object"&&A(n.$id)&&lr(n.additionalProperties)&&tn(n.patternProperties)&&(e=>{const t=Object.getOwnPropertyNames(e.patternProperties);return t.length===1&&ar(t[0])&&tn(e.patternProperties)&&w(e.patternProperties[t[0]])})(n)}function br(n){return M(n,"Ref")&&A(n.$id)&&_(n.$ref)}function re(n){return M(n,"RegExp")&&A(n.$id)&&_(n.source)&&_(n.flags)&&j(n.maxLength)&&j(n.minLength)}function fn(n){return M(n,"String")&&n.type==="string"&&A(n.$id)&&j(n.minLength)&&j(n.maxLength)&&fo(n.pattern)&&mo(n.format)}function Fe(n){return M(n,"Symbol")&&n.type==="symbol"&&A(n.$id)}function On(n){return M(n,"TemplateLiteral")&&n.type==="string"&&_(n.pattern)&&n.pattern[0]==="^"&&n.pattern[n.pattern.length-1]==="$"}function ao(n){return M(n,"This")&&A(n.$id)&&_(n.$ref)}function k(n){return tn(n)&&Fn in n}function Tn(n){return M(n,"Tuple")&&n.type==="array"&&A(n.$id)&&Kn(n.minItems)&&Kn(n.maxItems)&&n.minItems===n.maxItems&&(B(n.items)&&B(n.additionalItems)&&n.minItems===0||Un(n.items)&&n.items.every(e=>w(e)))}function Yn(n){return M(n,"Undefined")&&n.type==="undefined"&&A(n.$id)}function C(n){return M(n,"Union")&&A(n.$id)&&tn(n)&&Un(n.anyOf)&&n.anyOf.every(e=>w(e))}function je(n){return M(n,"Uint8Array")&&n.type==="Uint8Array"&&A(n.$id)&&j(n.minByteLength)&&j(n.maxByteLength)}function Pn(n){return M(n,"Unknown")&&A(n.$id)}function lo(n){return M(n,"Unsafe")}function he(n){return M(n,"Void")&&n.type==="void"&&A(n.$id)}function $o(n){return tn(n)&&a in n&&_(n[a])&&!co.includes(n[a])}function w(n){return tn(n)&&(bn(n)||wn(n)||zn(n)||Ne(n)||Re(n)||ce(n)||Ve(n)||fe(n)||ln(n)||Z(n)||Ae(n)||$n(n)||Xn(n)||dn(n)||Ln(n)||te(n)||wt(n)||W(n)||R(n)||me(n)||G(n)||br(n)||re(n)||fn(n)||Fe(n)||On(n)||ao(n)||Tn(n)||Yn(n)||C(n)||je(n)||Pn(n)||lo(n)||he(n)||$o(n))}const xo="(true|false)",Ge="(0|[1-9][0-9]*)",Or="(.*)",be=`^${Ge}$`,He=`^${Or}$`,Mt=new Map;function ve(n){return Mt.has(n)}function go(n,e){Mt.set(n,e)}function Rt(n){return Mt.get(n)}const Nt=new Map;function ie(n){return Nt.has(n)}function Io(n,e){Nt.set(n,e)}function At(n){return Nt.get(n)}function Fo(n,e){return n.includes(e)}function bo(n){return[...new Set(n)]}function Oo(n,e){return n.filter(t=>e.includes(t))}function Po(n,e){return n.reduce((t,r)=>Oo(t,r),e)}function wo(n){return n.length===1?n[0]:n.length>1?Po(n.slice(1),n[0]):[]}function Mo(n){return n.reduce((e,t)=>[...e,...t],[])}function Oe(n={}){return{...n,[a]:"Any"}}function Pr(n,e={}){return{...e,[a]:"Array",type:"array",items:I(n)}}function wr(n,e={}){return{...e,[a]:"AsyncIterator",type:"AsyncIterator",items:I(n)}}function Ro(n,e){const{[e]:t,...r}=n;return r}function yn(n,e){return e.reduce((t,r)=>Ro(t,r),n)}function nn(n={}){return{...n,[a]:"Never",not:{}}}function V(n){return{[a]:"MappedResult",properties:n}}function Mr(n,e,t){return{...t,[a]:"Constructor",type:"Constructor",parameters:Nn(n),returns:I(e)}}function nt(n,e,t){return{...t,[a]:"Function",type:"Function",parameters:Nn(n),returns:I(e)}}function ft(n,e){return{...e,[a]:"Union",anyOf:Nn(n)}}function No(n){return n.some(e=>An(e))}function vt(n){return n.map(e=>An(e)?Ao(e):e)}function Ao(n){return yn(n,[Qn])}function jo(n,e){return No(n)?Vn(ft(vt(n),e)):ft(vt(n),e)}function de(n,e={}){return n.length===0?nn(e):n.length===1?I(n[0],e):jo(n,e)}function rn(n,e={}){return n.length===0?nn(e):n.length===1?I(n[0],e):ft(n,e)}class nr extends X{}function jt(n,e,t){return n[e]===t&&n.charCodeAt(e-1)!==92}function qn(n,e){return jt(n,e,"(")}function Pe(n,e){return jt(n,e,")")}function Rr(n,e){return jt(n,e,"|")}function Uo(n){if(!(qn(n,0)&&Pe(n,n.length-1)))return!1;let e=0;for(let t=0;t<n.length;t++)if(qn(n,t)&&(e+=1),Pe(n,t)&&(e-=1),e===0&&t!==n.length-1)return!1;return!0}function Lo(n){return n.slice(1,n.length-1)}function ko(n){let e=0;for(let t=0;t<n.length;t++)if(qn(n,t)&&(e+=1),Pe(n,t)&&(e-=1),Rr(n,t)&&e===0)return!0;return!1}function Co(n){for(let e=0;e<n.length;e++)if(qn(n,e))return!0;return!1}function So(n){let[e,t]=[0,0];const r=[];for(let u=0;u<n.length;u++)if(qn(n,u)&&(e+=1),Pe(n,u)&&(e-=1),Rr(n,u)&&e===0){const f=n.slice(t,u);f.length>0&&r.push(oe(f)),t=u+1}const i=n.slice(t);return i.length>0&&r.push(oe(i)),r.length===0?{type:"const",const:""}:r.length===1?r[0]:{type:"or",expr:r}}function Eo(n){function e(i,u){if(!qn(i,u))throw new nr("TemplateLiteralParser: Index must point to open parens");let f=0;for(let d=u;d<i.length;d++)if(qn(i,d)&&(f+=1),Pe(i,d)&&(f-=1),f===0)return[u,d];throw new nr("TemplateLiteralParser: Unclosed group parens in expression")}function t(i,u){for(let f=u;f<i.length;f++)if(qn(i,f))return[u,f];return[u,i.length]}const r=[];for(let i=0;i<n.length;i++)if(qn(n,i)){const[u,f]=e(n,i),d=n.slice(u,f+1);r.push(oe(d)),i=f}else{const[u,f]=t(n,i),d=n.slice(u,f);d.length>0&&r.push(oe(d)),i=f-1}return r.length===0?{type:"const",const:""}:r.length===1?r[0]:{type:"and",expr:r}}function oe(n){return Uo(n)?oe(Lo(n)):ko(n)?So(n):Co(n)?Eo(n):{type:"const",const:n}}function Ut(n){return oe(n.slice(1,n.length-1))}class Bo extends X{}function Do(n){return n.type==="or"&&n.expr.length===2&&n.expr[0].type==="const"&&n.expr[0].const==="0"&&n.expr[1].type==="const"&&n.expr[1].const==="[1-9][0-9]*"}function qo(n){return n.type==="or"&&n.expr.length===2&&n.expr[0].type==="const"&&n.expr[0].const==="true"&&n.expr[1].type==="const"&&n.expr[1].const==="false"}function To(n){return n.type==="const"&&n.const===".*"}function we(n){return Do(n)||To(n)?!1:qo(n)?!0:n.type==="and"?n.expr.every(e=>we(e)):n.type==="or"?n.expr.every(e=>we(e)):n.type==="const"?!0:(()=>{throw new Bo("Unknown expression type")})()}function _o(n){const e=Ut(n.pattern);return we(e)}class Ko extends X{}function*Nr(n){if(n.length===1)return yield*n[0];for(const e of n[0])for(const t of Nr(n.slice(1)))yield`${e}${t}`}function*Go(n){return yield*Nr(n.expr.map(e=>[...et(e)]))}function*zo(n){for(const e of n.expr)yield*et(e)}function*Ho(n){return yield n.const}function*et(n){return n.type==="and"?yield*Go(n):n.type==="or"?yield*zo(n):n.type==="const"?yield*Ho(n):(()=>{throw new Ko("Unknown expression")})()}function Ar(n){const e=Ut(n.pattern);return we(e)?[...et(e)]:[]}function D(n,e={}){return{...e,[a]:"Literal",const:n,type:typeof n}}function jr(n={}){return{...n,[a]:"Boolean",type:"boolean"}}function Lt(n={}){return{...n,[a]:"BigInt",type:"bigint"}}function pe(n={}){return{...n,[a]:"Number",type:"number"}}function Gn(n={}){return{...n,[a]:"String",type:"string"}}function*Jo(n){const e=n.trim().replace(/"|'/g,"");return e==="boolean"?yield jr():e==="number"?yield pe():e==="bigint"?yield Lt():e==="string"?yield Gn():yield(()=>{const t=e.split("|").map(r=>D(r.trim()));return t.length===0?nn():t.length===1?t[0]:de(t)})()}function*Wo(n){if(n[1]!=="{"){const e=D("$"),t=mt(n.slice(1));return yield*[e,...t]}for(let e=2;e<n.length;e++)if(n[e]==="}"){const t=Jo(n.slice(2,e)),r=mt(n.slice(e+1));return yield*[...t,...r]}yield D(n)}function*mt(n){for(let e=0;e<n.length;e++)if(n[e]==="$"){const t=D(n.slice(0,e)),r=Wo(n.slice(e));return yield*[t,...r]}yield D(n)}function Yo(n){return[...mt(n)]}class Qo extends X{}function Xo(n){return n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function Ur(n,e){return On(n)?n.pattern.slice(1,n.pattern.length-1):C(n)?`(${n.anyOf.map(t=>Ur(t,e)).join("|")})`:W(n)?`${e}${Ge}`:ln(n)?`${e}${Ge}`:Ne(n)?`${e}${Ge}`:fn(n)?`${e}${Or}`:$n(n)?`${e}${Xo(n.const.toString())}`:zn(n)?`${e}${xo}`:(()=>{throw new Qo(`Unexpected Kind '${n[a]}'`)})()}function er(n){return`^${n.map(e=>Ur(e,"")).join("")}$`}function Je(n){const t=Ar(n).map(r=>D(r));return de(t)}function Lr(n,e={}){const t=_(n)?er(Yo(n)):er(n);return{...e,[a]:"TemplateLiteral",type:"string",pattern:t}}function Zo(n){return Ar(n).map(t=>t.toString())}function Vo(n){return n.reduce((e,t)=>[...e,...Hn(t)],[])}function ho(n){return[n.toString()]}function Hn(n){return[...new Set(On(n)?Zo(n):C(n)?Vo(n.anyOf):$n(n)?ho(n.const):W(n)?["[number]"]:ln(n)?["[number]"]:[])]}function vo(n,e,t){return globalThis.Object.getOwnPropertyNames(e).reduce((r,i)=>({...r,[i]:Ue(n,Hn(e[i]),t)}),{})}function nu(n,e,t){return vo(n,e.properties,t)}function eu(n,e,t){const r=nu(n,e,t);return V(r)}function kr(n,e){return n.map(t=>Cr(t,e))}function tu(n){return n.filter(e=>!Ln(e))}function ru(n,e){return qr(tu(kr(n,e)))}function iu(n,e){return de(kr(n,e))}function ou(n,e){return e in n?n[e]:e==="[number]"?de(n):nn()}function uu(n,e){return e==="[number]"?n:nn()}function su(n,e){return e in n?n[e]:nn()}function Cr(n,e){return Z(n)?ru(n.allOf,e):C(n)?iu(n.anyOf,e):Tn(n)?ou(n.items??[],e):wn(n)?uu(n.items,e):R(n)?su(n.properties,e):nn()}function Sr(n,e){return e.map(t=>Cr(n,t))}function tr(n,e){return de(Sr(n,e))}function Ue(n,e,t={}){return dn(e)?I(eu(n,e,t)):Xn(e)?I(du(n,e,t)):w(e)?I(tr(n,Hn(e)),t):I(tr(n,e),t)}function cu(n,e,t){return{[e]:Ue(n,[e],t)}}function fu(n,e,t){return e.reduce((r,i)=>({...r,...cu(n,i,t)}),{})}function mu(n,e,t){return fu(n,e.keys,t)}function du(n,e,t){const r=mu(n,e,t);return V(r)}function Er(n,e={}){return{...e,[a]:"Iterator",type:"Iterator",items:I(n)}}function pu(n,e={}){const t=globalThis.Object.getOwnPropertyNames(n),r=t.filter(d=>An(n[d])),i=t.filter(d=>!r.includes(d)),u=w(e.additionalProperties)?{additionalProperties:I(e.additionalProperties)}:{},f=t.reduce((d,l)=>({...d,[l]:I(n[l])}),{});return i.length>0?{...e,...u,[a]:"Object",type:"object",properties:f,required:i}:{...e,...u,[a]:"Object",type:"object",properties:f}}const z=pu;function Br(n,e={}){return{...e,[a]:"Promise",type:"Promise",item:I(n)}}function yu(n){return yn(I(n),[Xe])}function au(n){return{...I(n),[Xe]:"Readonly"}}function lu(n,e){return e===!1?yu(n):au(n)}function Zn(n,e){const t=e??!0;return dn(n)?gu(n,t):lu(n,t)}function $u(n,e){return globalThis.Object.getOwnPropertyNames(n).reduce((t,r)=>({...t,[r]:Zn(n[r],e)}),{})}function xu(n,e){return $u(n.properties,e)}function gu(n,e){const t=xu(n,e);return V(t)}function Le(n,e={}){const[t,r,i]=[!1,n.length,n.length];return n.length>0?{...e,[a]:"Tuple",type:"array",items:Nn(n),additionalItems:t,minItems:r,maxItems:i}:{...e,[a]:"Tuple",type:"array",minItems:r,maxItems:i}}function Dr(n,e){return n in e?pn(n,e[n]):V(e)}function Iu(n){return{[n]:D(n)}}function Fu(n){return n.reduce((e,t)=>({...e,[t]:D(t)}),{})}function bu(n,e){return Fo(e,n)?Iu(n):Fu(e)}function Ou(n,e){const t=bu(n,e);return Dr(n,t)}function Ie(n,e){return e.map(t=>pn(n,t))}function Pu(n,e){return globalThis.Object.getOwnPropertyNames(e).reduce((t,r)=>({...t,[r]:pn(n,e[r])}),{})}function pn(n,e){return An(e)?Vn(pn(n,yn(e,[Qn]))):po(e)?Zn(pn(n,yn(e,[Xe]))):dn(e)?Dr(n,e.properties):Xn(e)?Ou(n,e.keys):ce(e)?Mr(Ie(n,e.parameters),pn(n,e.returns)):fe(e)?nt(Ie(n,e.parameters),pn(n,e.returns)):Re(e)?wr(pn(n,e.items)):Ae(e)?Er(pn(n,e.items)):Z(e)?hn(Ie(n,e.allOf)):C(e)?rn(Ie(n,e.anyOf)):Tn(e)?Le(Ie(n,e.items??[])):R(e)?z(Pu(n,e.properties)):wn(e)?Pr(pn(n,e.items)):me(e)?Br(pn(n,e.item)):e}function wu(n,e,t={}){return n.reduce((r,i)=>({...r,[i]:pn(i,e)}),{})}function Mu(n,e,t={}){const r=w(n)?Hn(n):n,i=e({[a]:"MappedKey",keys:r}),u=wu(r,i);return I(z(u),t)}function Ru(n){return yn(I(n),[Qn])}function Nu(n){return{...I(n),[Qn]:"Optional"}}function Au(n,e){return e===!1?Ru(n):Nu(n)}function Vn(n,e){const t=e??!0;return dn(n)?Lu(n,t):Au(n,t)}function ju(n,e){return globalThis.Object.getOwnPropertyNames(n).reduce((t,r)=>({...t,[r]:Vn(n[r],e)}),{})}function Uu(n,e){return ju(n.properties,e)}function Lu(n,e){const t=Uu(n,e);return V(t)}function dt(n,e){const t=n.every(i=>R(i)),r=w(e.unevaluatedProperties)?{unevaluatedProperties:I(e.unevaluatedProperties)}:{};return e.unevaluatedProperties===!1||w(e.unevaluatedProperties)||t?{...e,...r,[a]:"Intersect",type:"object",allOf:Nn(n)}:{...e,...r,[a]:"Intersect",allOf:Nn(n)}}function ku(n){return n.every(e=>An(e))}function Cu(n){return yn(n,[Qn])}function rr(n){return n.map(e=>An(e)?Cu(e):e)}function Su(n,e){return ku(n)?Vn(dt(rr(n),e)):dt(rr(n),e)}function qr(n,e={}){if(n.length===0)return nn(e);if(n.length===1)return I(n[0],e);if(n.some(t=>k(t)))throw new Error("Cannot intersect transform types");return Su(n,e)}function hn(n,e={}){if(n.length===0)return nn(e);if(n.length===1)return I(n[0],e);if(n.some(t=>k(t)))throw new Error("Cannot intersect transform types");return dt(n,e)}function Tr(n){return n.map(e=>kt(e))}function Eu(n){return hn(Tr(n))}function Bu(n){return rn(Tr(n))}function Du(n){return kt(n)}function kt(n){return Z(n)?Eu(n.allOf):C(n)?Bu(n.anyOf):me(n)?Du(n.item):n}function qu(n,e={}){return I(kt(n),e)}function _r(n){return n.reduce((e,t)=>[...e,Jn(t)],[])}function Tu(n){const e=_r(n);return Mo(e)}function _u(n){const e=_r(n);return wo(e)}function Ku(n){return n.map((e,t)=>t.toString())}function Gu(n){return["[number]"]}function zu(n){return globalThis.Object.getOwnPropertyNames(n)}function Hu(n){return pt?globalThis.Object.getOwnPropertyNames(n).map(t=>t[0]==="^"&&t[t.length-1]==="$"?t.slice(1,t.length-1):t):[]}function Jn(n){return Z(n)?Tu(n.allOf):C(n)?_u(n.anyOf):Tn(n)?Ku(n.items??[]):wn(n)?Gu(n.items):R(n)?zu(n.properties):G(n)?Hu(n.patternProperties):[]}let pt=!1;function ue(n){pt=!0;const e=Jn(n);return pt=!1,`^(${e.map(r=>`(${r})`).join("|")})$`}function Ju(n){return n.map(e=>e==="[number]"?pe():D(e))}function Kr(n,e={}){if(dn(n))return Qu(n,e);{const t=Jn(n),r=Ju(t),i=de(r);return I(i,e)}}function Wu(n,e){return globalThis.Object.getOwnPropertyNames(n).reduce((t,r)=>({...t,[r]:Kr(n[r],e)}),{})}function Yu(n,e){return Wu(n.properties,e)}function Qu(n,e){const t=Yu(n,e);return V(t)}function Xu(n){return n.reduce((e,t)=>bo([...e,...Jn(t)]),[])}function Zu(n){return n.filter(e=>!Ln(e))}function Vu(n,e){return n.reduce((t,r)=>Zu([...t,...Sr(r,[e])]),[])}function hu(n,e){return e.reduce((t,r)=>({...t,[r]:qr(Vu(n,r))}),{})}function vu(n,e={}){const t=Xu(n),r=hu(n,t);return z(r,e)}function Gr(n={}){return{...n,[a]:"Date",type:"Date"}}function zr(n={}){return{...n,[a]:"Null",type:"null"}}function Hr(n){return{...n,[a]:"Symbol",type:"symbol"}}function Jr(n={}){return{...n,[a]:"Undefined",type:"undefined"}}function Wr(n={}){return{...n,[a]:"Uint8Array",type:"Uint8Array"}}function ke(n={}){return{...n,[a]:"Unknown"}}function ns(n){return n.map(e=>Ct(e,!1))}function es(n){return globalThis.Object.getOwnPropertyNames(n).reduce((e,t)=>({...e,[t]:Zn(Ct(n[t],!1))}),{})}function Te(n,e){return e===!0?n:Zn(n)}function Ct(n,e){return Zi(n)||hi(n)?Te(Oe(),e):Un(n)?Zn(Le(ns(n))):Qe(n)?Wr():yr(n)?Gr():tn(n)?Te(z(es(n)),e):Vi(n)?Te(nt([],ke()),e):B(n)?Jr():vi(n)?zr():eo(n)?Hr():pr(n)?Lt():Kn(n)||Ye(n)||_(n)?D(n):z({})}function ts(n,e={}){return I(Ct(n,!0),e)}function rs(n,e={}){return Le(Nn(n.parameters),{...e})}function Ce(n,e){return n.map(t=>kn(t,e))}function is(n,e){return globalThis.Object.getOwnPropertyNames(n).reduce((t,r)=>({...t,[r]:kn(n[r],e)}),{})}function os(n,e){return n.parameters=Ce(n.parameters,e),n.returns=kn(n.returns,e),n}function us(n,e){return n.parameters=Ce(n.parameters,e),n.returns=kn(n.returns,e),n}function ss(n,e){return n.allOf=Ce(n.allOf,e),n}function cs(n,e){return n.anyOf=Ce(n.anyOf,e),n}function fs(n,e){return B(n.items)||(n.items=Ce(n.items,e)),n}function ms(n,e){return n.items=kn(n.items,e),n}function ds(n,e){return n.properties=is(n.properties,e),n}function ps(n,e){return n.item=kn(n.item,e),n}function ys(n,e){return n.items=kn(n.items,e),n}function as(n,e){return n.items=kn(n.items,e),n}function ls(n,e){const t=e.find(i=>i.$id===n.$ref);if(t===void 0)throw Error(`Unable to dereference schema with $id ${n.$ref}`);const r=yn(t,["$id"]);return kn(r,e)}function $s(n,e){return ce(n)?os(n,e):fe(n)?us(n,e):Z(n)?ss(n,e):C(n)?cs(n,e):Tn(n)?fs(n,e):wn(n)?ms(n,e):R(n)?ds(n,e):me(n)?ps(n,e):Re(n)?ys(n,e):Ae(n)?as(n,e):br(n)?ls(n,e):n}function kn(n,e){return $s(I(n),Nn(e))}function xs(n,e={}){if(B(n))throw new Error("Enum undefined or empty");const t=globalThis.Object.getOwnPropertyNames(n).filter(u=>isNaN(u)).map(u=>n[u]),i=[...new Set(t)].map(u=>D(u));return rn(i,{...e,[Ze]:"Enum"})}class gs extends X{}var m;(function(n){n[n.Union=0]="Union",n[n.True=1]="True",n[n.False=2]="False"})(m||(m={}));function an(n){return n===m.False?n:m.True}function ye(n){throw new gs(n)}function q(n){return Ln(n)||Z(n)||C(n)||Pn(n)||bn(n)}function T(n,e){return Ln(e)?Xr():Z(e)?tt(n,e):C(e)?Et(n,e):Pn(e)?vr():bn(e)?St():ye("StructuralRight")}function St(n,e){return m.True}function Is(n,e){return Z(e)?tt(n,e):C(e)&&e.anyOf.some(t=>bn(t)||Pn(t))?m.True:C(e)?m.Union:Pn(e)||bn(e)?m.True:m.Union}function Fs(n,e){return Pn(n)?m.False:bn(n)?m.Union:Ln(n)?m.True:m.False}function bs(n,e){return R(e)&&rt(e)?m.True:q(e)?T(n,e):wn(e)?an(N(n.items,e.items)):m.False}function Os(n,e){return q(e)?T(n,e):Re(e)?an(N(n.items,e.items)):m.False}function Ps(n,e){return q(e)?T(n,e):R(e)?en(n,e):G(e)?xn(n,e):Ne(e)?m.True:m.False}function Yr(n,e){return Fr(n)||zn(n)?m.True:m.False}function ws(n,e){return q(e)?T(n,e):R(e)?en(n,e):G(e)?xn(n,e):zn(e)?m.True:m.False}function Ms(n,e){return q(e)?T(n,e):R(e)?en(n,e):ce(e)?n.parameters.length>e.parameters.length?m.False:n.parameters.every((t,r)=>an(N(e.parameters[r],t))===m.True)?an(N(n.returns,e.returns)):m.False:m.False}function Rs(n,e){return q(e)?T(n,e):R(e)?en(n,e):G(e)?xn(n,e):Ve(e)?m.True:m.False}function Ns(n,e){return q(e)?T(n,e):R(e)?en(n,e):fe(e)?n.parameters.length>e.parameters.length?m.False:n.parameters.every((t,r)=>an(N(e.parameters[r],t))===m.True)?an(N(n.returns,e.returns)):m.False:m.False}function Qr(n,e){return $n(n)&&Kn(n.const)||W(n)||ln(n)?m.True:m.False}function As(n,e){return ln(e)||W(e)?m.True:q(e)?T(n,e):R(e)?en(n,e):G(e)?xn(n,e):m.False}function tt(n,e){return e.allOf.every(t=>N(n,t)===m.True)?m.True:m.False}function js(n,e){return n.allOf.some(t=>N(t,e)===m.True)?m.True:m.False}function Us(n,e){return q(e)?T(n,e):Ae(e)?an(N(n.items,e.items)):m.False}function Ls(n,e){return $n(e)&&e.const===n.const?m.True:q(e)?T(n,e):R(e)?en(n,e):G(e)?xn(n,e):fn(e)?hr(n):W(e)?Zr(n):ln(e)?Qr(n):zn(e)?Yr(n):m.False}function Xr(n,e){return m.False}function ks(n,e){return m.True}function ir(n){let[e,t]=[n,0];for(;te(e);)e=e.not,t+=1;return t%2===0?e:ke()}function Cs(n,e){return te(n)?N(ir(n),e):te(e)?N(n,ir(e)):ye("Invalid fallthrough for Not")}function Ss(n,e){return q(e)?T(n,e):R(e)?en(n,e):G(e)?xn(n,e):wt(e)?m.True:m.False}function Zr(n,e){return Ir(n)||W(n)||ln(n)?m.True:m.False}function Es(n,e){return q(e)?T(n,e):R(e)?en(n,e):G(e)?xn(n,e):ln(e)||W(e)?m.True:m.False}function un(n,e){return Object.getOwnPropertyNames(n.properties).length===e}function or(n){return rt(n)}function ur(n){return un(n,0)||un(n,1)&&"description"in n.properties&&C(n.properties.description)&&n.properties.description.anyOf.length===2&&(fn(n.properties.description.anyOf[0])&&Yn(n.properties.description.anyOf[1])||fn(n.properties.description.anyOf[1])&&Yn(n.properties.description.anyOf[0]))}function ct(n){return un(n,0)}function sr(n){return un(n,0)}function Bs(n){return un(n,0)}function Ds(n){return un(n,0)}function qs(n){return rt(n)}function Ts(n){const e=pe();return un(n,0)||un(n,1)&&"length"in n.properties&&an(N(n.properties.length,e))===m.True}function _s(n){return un(n,0)}function rt(n){const e=pe();return un(n,0)||un(n,1)&&"length"in n.properties&&an(N(n.properties.length,e))===m.True}function Ks(n){const e=nt([Oe()],Oe());return un(n,0)||un(n,1)&&"then"in n.properties&&an(N(n.properties.then,e))===m.True}function Vr(n,e){return N(n,e)===m.False||An(n)&&!An(e)?m.False:m.True}function en(n,e){return Pn(n)?m.False:bn(n)?m.Union:Ln(n)||gr(n)&&or(e)||Ir(n)&&ct(e)||Fr(n)&&sr(e)||Fe(n)&&ur(e)||Ne(n)&&Bs(e)||fn(n)&&or(e)||Fe(n)&&ur(e)||W(n)&&ct(e)||ln(n)&&ct(e)||zn(n)&&sr(e)||je(n)&&qs(e)||Ve(n)&&Ds(e)||ce(n)&&_s(e)||fe(n)&&Ts(e)?m.True:G(n)&&fn(yt(n))?e[Ze]==="Record"?m.True:m.False:G(n)&&W(yt(n))?un(e,0)?m.True:m.False:m.False}function Gs(n,e){return q(e)?T(n,e):G(e)?xn(n,e):R(e)?(()=>{for(const t of Object.getOwnPropertyNames(e.properties)){if(!(t in n.properties)&&!An(e.properties[t]))return m.False;if(An(e.properties[t]))return m.True;if(Vr(n.properties[t],e.properties[t])===m.False)return m.False}return m.True})():m.False}function zs(n,e){return q(e)?T(n,e):R(e)&&Ks(e)?m.True:me(e)?an(N(n.item,e.item)):m.False}function yt(n){return be in n.patternProperties?pe():He in n.patternProperties?Gn():ye("Unknown record key pattern")}function at(n){return be in n.patternProperties?n.patternProperties[be]:He in n.patternProperties?n.patternProperties[He]:ye("Unable to get record value schema")}function xn(n,e){const[t,r]=[yt(e),at(e)];return gr(n)&&W(t)&&an(N(n,r))===m.True?m.True:je(n)&&W(t)||fn(n)&&W(t)||wn(n)&&W(t)?N(n,r):R(n)?(()=>{for(const i of Object.getOwnPropertyNames(n.properties))if(Vr(r,n.properties[i])===m.False)return m.False;return m.True})():m.False}function Hs(n,e){return q(e)?T(n,e):R(e)?en(n,e):G(e)?N(at(n),at(e)):m.False}function Js(n,e){const t=re(n)?Gn():n,r=re(e)?Gn():e;return N(t,r)}function hr(n,e){return $n(n)&&_(n.const)||fn(n)?m.True:m.False}function Ws(n,e){return q(e)?T(n,e):R(e)?en(n,e):G(e)?xn(n,e):fn(e)?m.True:m.False}function Ys(n,e){return q(e)?T(n,e):R(e)?en(n,e):G(e)?xn(n,e):Fe(e)?m.True:m.False}function Qs(n,e){return On(n)?N(Je(n),e):On(e)?N(n,Je(e)):ye("Invalid fallthrough for TemplateLiteral")}function Xs(n,e){return wn(e)&&n.items!==void 0&&n.items.every(t=>N(t,e.items)===m.True)}function Zs(n,e){return Ln(n)?m.True:Pn(n)?m.False:bn(n)?m.Union:m.False}function Vs(n,e){return q(e)?T(n,e):R(e)&&rt(e)||wn(e)&&Xs(n,e)?m.True:Tn(e)?B(n.items)&&!B(e.items)||!B(n.items)&&B(e.items)?m.False:B(n.items)&&!B(e.items)||n.items.every((t,r)=>N(t,e.items[r])===m.True)?m.True:m.False:m.False}function hs(n,e){return q(e)?T(n,e):R(e)?en(n,e):G(e)?xn(n,e):je(e)?m.True:m.False}function vs(n,e){return q(e)?T(n,e):R(e)?en(n,e):G(e)?xn(n,e):he(e)?tc(n):Yn(e)?m.True:m.False}function Et(n,e){return e.anyOf.some(t=>N(n,t)===m.True)?m.True:m.False}function nc(n,e){return n.anyOf.every(t=>N(t,e)===m.True)?m.True:m.False}function vr(n,e){return m.True}function ec(n,e){return Ln(e)?Xr():Z(e)?tt(n,e):C(e)?Et(n,e):bn(e)?St():fn(e)?hr(n):W(e)?Zr(n):ln(e)?Qr(n):zn(e)?Yr(n):wn(e)?Fs(n):Tn(e)?Zs(n):R(e)?en(n,e):Pn(e)?m.True:m.False}function tc(n,e){return Yn(n)||Yn(n)?m.True:m.False}function rc(n,e){return Z(e)?tt(n,e):C(e)?Et(n,e):Pn(e)?vr():bn(e)?St():R(e)?en(n,e):he(e)?m.True:m.False}function N(n,e){return On(n)||On(e)?Qs(n,e):re(n)||re(e)?Js(n,e):te(n)||te(e)?Cs(n,e):bn(n)?Is(n,e):wn(n)?bs(n,e):Ne(n)?Ps(n,e):zn(n)?ws(n,e):Re(n)?Os(n,e):ce(n)?Ms(n,e):Ve(n)?Rs(n,e):fe(n)?Ns(n,e):ln(n)?As(n,e):Z(n)?js(n,e):Ae(n)?Us(n,e):$n(n)?Ls(n,e):Ln(n)?ks():wt(n)?Ss(n,e):W(n)?Es(n,e):R(n)?Gs(n,e):G(n)?Hs(n,e):fn(n)?Ws(n,e):Fe(n)?Ys(n,e):Tn(n)?Vs(n,e):me(n)?zs(n,e):je(n)?hs(n,e):Yn(n)?vs(n,e):C(n)?nc(n,e):Pn(n)?ec(n,e):he(n)?rc(n,e):ye(`Unknown left type operand '${n[a]}'`)}function Se(n,e){return N(n,e)}function ic(n,e,t,r,i){return globalThis.Object.getOwnPropertyNames(n).reduce((u,f)=>({...u,[f]:Bt(n[f],e,t,r,i)}),{})}function oc(n,e,t,r,i){return ic(n.properties,e,t,r,i)}function uc(n,e,t,r,i){const u=oc(n,e,t,r,i);return V(u)}function sc(n,e,t,r){const i=Se(n,e);return i===m.Union?rn([t,r]):i===m.True?t:r}function Bt(n,e,t,r,i={}){return dn(n)?uc(n,e,t,r,i):Xn(n)?I(dc(n,e,t,r,i)):I(sc(n,e,t,r),i)}function cc(n,e,t,r,i){return{[n]:Bt(D(n),e,t,r,i)}}function fc(n,e,t,r,i){return n.reduce((u,f)=>({...u,...cc(f,e,t,r,i)}),{})}function mc(n,e,t,r,i){return fc(n.keys,e,t,r,i)}function dc(n,e,t,r,i){const u=mc(n,e,t,r,i);return V(u)}function pc(n){return n.allOf.every(e=>ae(e))}function yc(n){return n.anyOf.some(e=>ae(e))}function ac(n){return!ae(n.not)}function ae(n){return n[a]==="Intersect"?pc(n):n[a]==="Union"?yc(n):n[a]==="Not"?ac(n):n[a]==="Undefined"}function lc(n,e){return Dt(Je(n),e)}function $c(n,e){const t=n.filter(r=>Se(r,e)===m.False);return t.length===1?t[0]:rn(t)}function Dt(n,e,t={}){return On(n)?I(lc(n,e),t):dn(n)?I(Ic(n,e),t):I(C(n)?$c(n.anyOf,e):Se(n,e)!==m.False?nn():n,t)}function xc(n,e){return globalThis.Object.getOwnPropertyNames(n).reduce((t,r)=>({...t,[r]:Dt(n[r],e)}),{})}function gc(n,e){return xc(n.properties,e)}function Ic(n,e){const t=gc(n,e);return V(t)}function Fc(n,e){return qt(Je(n),e)}function bc(n,e){const t=n.filter(r=>Se(r,e)!==m.False);return t.length===1?t[0]:rn(t)}function qt(n,e,t={}){return On(n)?I(Fc(n,e),t):dn(n)?I(wc(n,e),t):I(C(n)?bc(n.anyOf,e):Se(n,e)!==m.False?n:nn(),t)}function Oc(n,e){return globalThis.Object.getOwnPropertyNames(n).reduce((t,r)=>({...t,[r]:qt(n[r],e)}),{})}function Pc(n,e){return Oc(n.properties,e)}function wc(n,e){const t=Pc(n,e);return V(t)}function Mc(n,e={}){return I(n.returns,e)}function Rc(n={}){return{...n,[a]:"Integer",type:"integer"}}function Nc(n,e,t){return{[n]:le(D(n),e,t)}}function Ac(n,e,t){return n.reduce((r,i)=>({...r,...Nc(i,e,t)}),{})}function jc(n,e,t){return Ac(n.keys,e,t)}function Uc(n,e,t){const r=jc(n,e,t);return V(r)}function Lc(n){const[e,t]=[n.slice(0,1),n.slice(1)];return[e.toLowerCase(),t].join("")}function kc(n){const[e,t]=[n.slice(0,1),n.slice(1)];return[e.toUpperCase(),t].join("")}function Cc(n){return n.toUpperCase()}function Sc(n){return n.toLowerCase()}function Ec(n,e,t){const r=Ut(n.pattern);if(!we(r))return{...n,pattern:ni(n.pattern,e)};const f=[...et(r)].map($=>D($)),d=ei(f,e),l=rn(d);return Lr([l],t)}function ni(n,e){return typeof n=="string"?e==="Uncapitalize"?Lc(n):e==="Capitalize"?kc(n):e==="Uppercase"?Cc(n):e==="Lowercase"?Sc(n):n:n.toString()}function ei(n,e){return n.map(t=>le(t,e))}function le(n,e,t={}){return Xn(n)?Uc(n,e,t):On(n)?Ec(n,e,n):C(n)?rn(ei(n.anyOf,e),t):$n(n)?D(ni(n.const,e),t):n}function Bc(n,e={}){return le(n,"Capitalize",e)}function Dc(n,e={}){return le(n,"Lowercase",e)}function qc(n,e={}){return le(n,"Uncapitalize",e)}function Tc(n,e={}){return le(n,"Uppercase",e)}function _c(n,e){return{...e,[a]:"Not",not:I(n)}}function Kc(n,e,t){return globalThis.Object.getOwnPropertyNames(n).reduce((r,i)=>({...r,[i]:_t(n[i],e,t)}),{})}function Gc(n,e,t){return Kc(n.properties,e,t)}function zc(n,e,t){const r=Gc(n,e,t);return V(r)}function Hc(n,e){return n.map(t=>Tt(t,e))}function Jc(n,e){return n.map(t=>Tt(t,e))}function Wc(n,e){const{[e]:t,...r}=n;return r}function Yc(n,e){return e.reduce((t,r)=>Wc(t,r),n)}function Tt(n,e){return Z(n)?hn(Hc(n.allOf,e)):C(n)?rn(Jc(n.anyOf,e)):R(n)?z(Yc(n.properties,e)):z({})}function _t(n,e,t={}){if(Xn(e))return Vc(n,e,t);if(dn(n))return zc(n,e,t);const r=w(e)?Hn(e):e,i=yn(n,[Fn,"$id","required"]),u=I(Tt(n,r),t);return{...i,...u}}function Qc(n,e,t){return{[e]:_t(n,[e],t)}}function Xc(n,e,t){return e.reduce((r,i)=>({...r,...Qc(n,i,t)}),{})}function Zc(n,e,t){return Xc(n,e.keys,t)}function Vc(n,e,t){const r=Zc(n,e,t);return V(r)}function hc(n,e={}){return Le(Nn(n.parameters),{...e})}function cr(n){return n.map(e=>ti(e))}function vc(n){return globalThis.Object.getOwnPropertyNames(n).reduce((e,t)=>({...e,[t]:Vn(n[t])}),{})}function ti(n){return Z(n)?hn(cr(n.allOf)):C(n)?rn(cr(n.anyOf)):R(n)?z(vc(n.properties)):z({})}function ri(n,e={}){if(dn(n))return tf(n,e);const t=yn(n,[Fn,"$id","required"]),r=I(ti(n),e);return{...t,...r}}function nf(n,e){return globalThis.Object.getOwnPropertyNames(n).reduce((t,r)=>({...t,[r]:ri(n[r],e)}),{})}function ef(n,e){return nf(n.properties,e)}function tf(n,e){const t=ef(n,e);return V(t)}function rf(n,e,t){return globalThis.Object.getOwnPropertyNames(n).reduce((r,i)=>({...r,[i]:Gt(n[i],e,t)}),{})}function of(n,e,t){return rf(n.properties,e,t)}function uf(n,e,t){const r=of(n,e,t);return V(r)}function sf(n,e){return n.map(t=>Kt(t,e))}function cf(n,e){return n.map(t=>Kt(t,e))}function ff(n,e){return e.reduce((t,r)=>r in n?{...t,[r]:n[r]}:t,{})}function Kt(n,e){return Z(n)?hn(sf(n.allOf,e)):C(n)?rn(cf(n.anyOf,e)):R(n)?z(ff(n.properties,e)):z({})}function Gt(n,e,t={}){if(Xn(e))return yf(n,e,t);if(dn(n))return uf(n,e,t);const r=w(e)?Hn(e):e,i=yn(n,[Fn,"$id","required"]),u=I(Kt(n,r),t);return{...i,...u}}function mf(n,e,t){return{[e]:Gt(n,[e],t)}}function df(n,e,t){return e.reduce((r,i)=>({...r,...mf(n,i,t)}),{})}function pf(n,e,t){return df(n,e.keys,t)}function yf(n,e,t){const r=pf(n,e,t);return V(r)}function af(n){return Zn(Vn(n))}function Ee(n,e,t){return{...t,[a]:"Record",type:"object",patternProperties:{[n]:I(e)}}}function zt(n,e,t){const r=n.reduce((i,u)=>({...i,[u]:I(e)}),{});return z(r,{...t,[Ze]:"Record"})}function lf(n,e,t){return _o(n)?zt(Hn(n),e,t):Ee(n.pattern,e,t)}function $f(n,e,t){return zt(Hn(rn(n)),e,t)}function xf(n,e,t){return zt([n.toString()],e,t)}function gf(n,e,t){return Ee(n.source,e,t)}function If(n,e,t){const r=B(n.pattern)?He:n.pattern;return Ee(r,e,t)}function Ff(n,e,t){return Ee(be,e,t)}function bf(n,e,t){return Ee(be,e,t)}function Of(n,e,t={}){return C(n)?$f(n.anyOf,e,t):On(n)?lf(n,e,t):$n(n)?xf(n.const,e,t):ln(n)?Ff(n,e,t):W(n)?bf(n,e,t):re(n)?gf(n,e,t):fn(n)?If(n,e,t):nn(t)}let Pf=0;function wf(n,e={}){B(e.$id)&&(e.$id=`T${Pf++}`);const t=n({[a]:"This",$ref:`${e.$id}`});return t.$id=e.$id,I({...e,[Ze]:"Recursive",...t})}function Mf(n,e={}){if(_(n))return{...e,[a]:"Ref",$ref:n};if(B(n.$id))throw new Error("Reference target type must specify an $id");return{...e,[a]:"Ref",$ref:n.$id}}function Rf(n,e={}){const t=_(n)?new globalThis.RegExp(n):n;return{...e,[a]:"RegExp",type:"RegExp",source:t.source,flags:t.flags}}function fr(n){return n.map(e=>ii(e))}function Nf(n){return globalThis.Object.getOwnPropertyNames(n).reduce((e,t)=>({...e,[t]:yn(n[t],[Qn])}),{})}function ii(n){return Z(n)?hn(fr(n.allOf)):C(n)?rn(fr(n.anyOf)):R(n)?z(Nf(n.properties)):z({})}function oi(n,e={}){if(dn(n))return Uf(n,e);{const t=yn(n,[Fn,"$id","required"]),r=I(ii(n),e);return{...t,...r}}}function Af(n,e){return globalThis.Object.getOwnPropertyNames(n).reduce((t,r)=>({...t,[r]:oi(n[r],e)}),{})}function jf(n,e){return Af(n.properties,e)}function Uf(n,e){const t=jf(n,e);return V(t)}function Lf(n){return Z(n)?[...n.allOf]:C(n)?[...n.anyOf]:Tn(n)?[...n.items??[]]:[]}function kf(n){return Nn(Lf(n))}function Cf(n,e={}){return I(n.returns,e)}function Sf(n){return JSON.parse(JSON.stringify(n))}class Ef{constructor(e){U(this,"schema");this.schema=e}Decode(e){return new Bf(this.schema,e)}}class Bf{constructor(e,t){U(this,"schema");U(this,"decode");this.schema=e,this.decode=t}EncodeTransform(e,t){const u={Encode:f=>t[Fn].Encode(e(f)),Decode:f=>this.decode(t[Fn].Decode(f))};return{...t,[Fn]:u}}EncodeSchema(e,t){const r={Decode:this.decode,Encode:e};return{...t,[Fn]:r}}Encode(e){const t=I(this.schema);return k(t)?this.EncodeTransform(e,t):this.EncodeSchema(e,t)}}function Df(n){return new Ef(n)}function ui(n={}){return{...n,[a]:n[a]??"Unsafe"}}function qf(n={}){return{...n,[a]:"Void",type:"void"}}const Tf=Object.freeze(Object.defineProperty({__proto__:null,Any:Oe,Array:Pr,AsyncIterator:wr,Awaited:qu,BigInt:Lt,Boolean:jr,Capitalize:Bc,Composite:vu,Const:ts,Constructor:Mr,ConstructorParameters:rs,Date:Gr,Deref:kn,Enum:xs,Exclude:Dt,Extends:Bt,Extract:qt,Function:nt,Index:Ue,InstanceType:Mc,Integer:Rc,Intersect:hn,Iterator:Er,KeyOf:Kr,Literal:D,Lowercase:Dc,Mapped:Mu,Never:nn,Not:_c,Null:zr,Number:pe,Object:z,Omit:_t,Optional:Vn,Parameters:hc,Partial:ri,Pick:Gt,Promise:Br,Readonly:Zn,ReadonlyOptional:af,Record:Of,Recursive:wf,Ref:Mf,RegExp:Rf,Required:oi,Rest:kf,ReturnType:Cf,Strict:Sf,String:Gn,Symbol:Hr,TemplateLiteral:Lr,Transform:Df,Tuple:Le,Uint8Array:Wr,Uncapitalize:qc,Undefined:Jr,Union:rn,Unknown:ke,Unsafe:ui,Uppercase:Tc,Void:qf},Symbol.toStringTag,{value:"Module"})),_e=Tf;function si(n){return it(n)&&Symbol.asyncIterator in n}function ci(n){return it(n)&&Symbol.iterator in n}function vn(n){return it(n)&&!sn(n)&&Wt(n.constructor)&&n.constructor.name==="Object"}function fi(n){return n instanceof Promise}function Ht(n){return n instanceof Date&&Number.isFinite(n.getTime())}function Jt(n){return n instanceof globalThis.Uint8Array}function it(n){return n!==null&&typeof n=="object"}function sn(n){return Array.isArray(n)&&!ArrayBuffer.isView(n)}function $e(n){return n===void 0}function ot(n){return n===null}function ut(n){return typeof n=="boolean"}function b(n){return typeof n=="number"}function mi(n){return b(n)&&Number.isInteger(n)}function Bn(n){return typeof n=="bigint"}function cn(n){return typeof n=="string"}function Wt(n){return typeof n=="function"}function st(n){return typeof n=="symbol"}function di(n){return Bn(n)||ut(n)||ot(n)||b(n)||cn(n)||st(n)||$e(n)}var J;(function(n){n.ExactOptionalPropertyTypes=!1,n.AllowArrayObject=!1,n.AllowNaN=!1,n.AllowNullVoid=!1;function e(f,d){return n.ExactOptionalPropertyTypes?d in f:f[d]!==void 0}n.IsExactOptionalProperty=e;function t(f){const d=it(f);return n.AllowArrayObject?d:d&&!sn(f)}n.IsObjectLike=t;function r(f){return t(f)&&!(f instanceof Date)&&!(f instanceof Uint8Array)}n.IsRecordLike=r;function i(f){const d=b(f);return n.AllowNaN?d:d&&Number.isFinite(f)}n.IsNumberLike=i;function u(f){const d=$e(f);return n.AllowNullVoid?d||f===null:d}n.IsVoidLike=u})(J||(J={}));class _f extends X{constructor(e){super(`Duplicate type kind '${e}' detected`)}}class Kf extends X{constructor(e){super(`Duplicate string format '${e}' detected`)}}var mr;(function(n){function e(r,i){if(ie(r))throw new _f(r);return Io(r,i),(u={})=>ui({...u,[a]:r})}n.Type=e;function t(r,i){if(ve(r))throw new Kf(r);return go(r,i),r}n.Format=t})(mr||(mr={}));function Gf(n){switch(n.errorType){case c.ArrayContains:return"Expected array to contain at least one matching value";case c.ArrayMaxContains:return`Expected array to contain no more than ${n.schema.maxContains} matching values`;case c.ArrayMinContains:return`Expected array to contain at least ${n.schema.minContains} matching values`;case c.ArrayMaxItems:return`Expected array length to be less or equal to ${n.schema.maxItems}`;case c.ArrayMinItems:return`Expected array length to be greater or equal to ${n.schema.minItems}`;case c.ArrayUniqueItems:return"Expected array elements to be unique";case c.Array:return"Expected array";case c.AsyncIterator:return"Expected AsyncIterator";case c.BigIntExclusiveMaximum:return`Expected bigint to be less than ${n.schema.exclusiveMaximum}`;case c.BigIntExclusiveMinimum:return`Expected bigint to be greater than ${n.schema.exclusiveMinimum}`;case c.BigIntMaximum:return`Expected bigint to be less or equal to ${n.schema.maximum}`;case c.BigIntMinimum:return`Expected bigint to be greater or equal to ${n.schema.minimum}`;case c.BigIntMultipleOf:return`Expected bigint to be a multiple of ${n.schema.multipleOf}`;case c.BigInt:return"Expected bigint";case c.Boolean:return"Expected boolean";case c.DateExclusiveMinimumTimestamp:return`Expected Date timestamp to be greater than ${n.schema.exclusiveMinimumTimestamp}`;case c.DateExclusiveMaximumTimestamp:return`Expected Date timestamp to be less than ${n.schema.exclusiveMaximumTimestamp}`;case c.DateMinimumTimestamp:return`Expected Date timestamp to be greater or equal to ${n.schema.minimumTimestamp}`;case c.DateMaximumTimestamp:return`Expected Date timestamp to be less or equal to ${n.schema.maximumTimestamp}`;case c.DateMultipleOfTimestamp:return`Expected Date timestamp to be a multiple of ${n.schema.multipleOfTimestamp}`;case c.Date:return"Expected Date";case c.Function:return"Expected function";case c.IntegerExclusiveMaximum:return`Expected integer to be less than ${n.schema.exclusiveMaximum}`;case c.IntegerExclusiveMinimum:return`Expected integer to be greater than ${n.schema.exclusiveMinimum}`;case c.IntegerMaximum:return`Expected integer to be less or equal to ${n.schema.maximum}`;case c.IntegerMinimum:return`Expected integer to be greater or equal to ${n.schema.minimum}`;case c.IntegerMultipleOf:return`Expected integer to be a multiple of ${n.schema.multipleOf}`;case c.Integer:return"Expected integer";case c.IntersectUnevaluatedProperties:return"Unexpected property";case c.Intersect:return"Expected all values to match";case c.Iterator:return"Expected Iterator";case c.Literal:return`Expected ${typeof n.schema.const=="string"?`'${n.schema.const}'`:n.schema.const}`;case c.Never:return"Never";case c.Not:return"Value should not match";case c.Null:return"Expected null";case c.NumberExclusiveMaximum:return`Expected number to be less than ${n.schema.exclusiveMaximum}`;case c.NumberExclusiveMinimum:return`Expected number to be greater than ${n.schema.exclusiveMinimum}`;case c.NumberMaximum:return`Expected number to be less or equal to ${n.schema.maximum}`;case c.NumberMinimum:return`Expected number to be greater or equal to ${n.schema.minimum}`;case c.NumberMultipleOf:return`Expected number to be a multiple of ${n.schema.multipleOf}`;case c.Number:return"Expected number";case c.Object:return"Expected object";case c.ObjectAdditionalProperties:return"Unexpected property";case c.ObjectMaxProperties:return`Expected object to have no more than ${n.schema.maxProperties} properties`;case c.ObjectMinProperties:return`Expected object to have at least ${n.schema.minProperties} properties`;case c.ObjectRequiredProperty:return"Required property";case c.Promise:return"Expected Promise";case c.RegExp:return"Expected string to match regular expression";case c.StringFormatUnknown:return`Unknown format '${n.schema.format}'`;case c.StringFormat:return`Expected string to match '${n.schema.format}' format`;case c.StringMaxLength:return`Expected string length less or equal to ${n.schema.maxLength}`;case c.StringMinLength:return`Expected string length greater or equal to ${n.schema.minLength}`;case c.StringPattern:return`Expected string to match '${n.schema.pattern}'`;case c.String:return"Expected string";case c.Symbol:return"Expected symbol";case c.TupleLength:return`Expected tuple to have ${n.schema.maxItems||0} elements`;case c.Tuple:return"Expected tuple";case c.Uint8ArrayMaxByteLength:return`Expected byte length less or equal to ${n.schema.maxByteLength}`;case c.Uint8ArrayMinByteLength:return`Expected byte length greater or equal to ${n.schema.minByteLength}`;case c.Uint8Array:return"Expected Uint8Array";case c.Undefined:return"Expected undefined";case c.Union:return"Expected union value";case c.Void:return"Expected void";case c.Kind:return`Expected kind '${n.schema[a]}'`;default:return"Unknown error type"}}let pi=Gf;function dp(n){pi=n}function zf(){return pi}class Hf extends X{constructor(t){super(`Unable to dereference schema with $id '${t.$id}'`);U(this,"schema");this.schema=t}}function Mn(n,e){const t=e.findIndex(r=>r.$id===n.$ref);if(t===-1)throw new Hf(n);return e[t]}class Jf extends X{constructor(t){super("Unable to hash value");U(this,"value");this.value=t}}var mn;(function(n){n[n.Undefined=0]="Undefined",n[n.Null=1]="Null",n[n.Boolean=2]="Boolean",n[n.Number=3]="Number",n[n.String=4]="String",n[n.Object=5]="Object",n[n.Array=6]="Array",n[n.Date=7]="Date",n[n.Uint8Array=8]="Uint8Array",n[n.Symbol=9]="Symbol",n[n.BigInt=10]="BigInt"})(mn||(mn={}));let ee=BigInt("14695981039346656037");const[Wf,Yf]=[BigInt("1099511628211"),BigInt("2")**BigInt("64")],Qf=Array.from({length:256}).map((n,e)=>BigInt(e)),yi=new Float64Array(1),ai=new DataView(yi.buffer),li=new Uint8Array(yi.buffer);function*Xf(n){const e=n===0?1:Math.ceil(Math.floor(Math.log2(n)+1)/8);for(let t=0;t<e;t++)yield n>>8*(e-1-t)&255}function Zf(n){v(mn.Array);for(const e of n)se(e)}function Vf(n){v(mn.Boolean),v(n?1:0)}function hf(n){v(mn.BigInt),ai.setBigInt64(0,n);for(const e of li)v(e)}function vf(n){v(mn.Date),se(n.getTime())}function nm(n){v(mn.Null)}function em(n){v(mn.Number),ai.setFloat64(0,n);for(const e of li)v(e)}function tm(n){v(mn.Object);for(const e of globalThis.Object.keys(n).sort())se(e),se(n[e])}function rm(n){v(mn.String);for(let e=0;e<n.length;e++)for(const t of Xf(n.charCodeAt(e)))v(t)}function im(n){v(mn.Symbol),se(n.description)}function om(n){v(mn.Uint8Array);for(let e=0;e<n.length;e++)v(n[e])}function um(n){return v(mn.Undefined)}function se(n){if(sn(n))return Zf(n);if(ut(n))return Vf(n);if(Bn(n))return hf(n);if(Ht(n))return vf(n);if(ot(n))return nm();if(b(n))return em(n);if(vn(n))return tm(n);if(cn(n))return rm(n);if(st(n))return im(n);if(Jt(n))return om(n);if($e(n))return um();throw new Jf(n)}function v(n){ee=ee^Qf[n],ee=ee*Wf%Yf}function Yt(n){return ee=BigInt("14695981039346656037"),se(n),ee}var c;(function(n){n[n.ArrayContains=0]="ArrayContains",n[n.ArrayMaxContains=1]="ArrayMaxContains",n[n.ArrayMaxItems=2]="ArrayMaxItems",n[n.ArrayMinContains=3]="ArrayMinContains",n[n.ArrayMinItems=4]="ArrayMinItems",n[n.ArrayUniqueItems=5]="ArrayUniqueItems",n[n.Array=6]="Array",n[n.AsyncIterator=7]="AsyncIterator",n[n.BigIntExclusiveMaximum=8]="BigIntExclusiveMaximum",n[n.BigIntExclusiveMinimum=9]="BigIntExclusiveMinimum",n[n.BigIntMaximum=10]="BigIntMaximum",n[n.BigIntMinimum=11]="BigIntMinimum",n[n.BigIntMultipleOf=12]="BigIntMultipleOf",n[n.BigInt=13]="BigInt",n[n.Boolean=14]="Boolean",n[n.DateExclusiveMaximumTimestamp=15]="DateExclusiveMaximumTimestamp",n[n.DateExclusiveMinimumTimestamp=16]="DateExclusiveMinimumTimestamp",n[n.DateMaximumTimestamp=17]="DateMaximumTimestamp",n[n.DateMinimumTimestamp=18]="DateMinimumTimestamp",n[n.DateMultipleOfTimestamp=19]="DateMultipleOfTimestamp",n[n.Date=20]="Date",n[n.Function=21]="Function",n[n.IntegerExclusiveMaximum=22]="IntegerExclusiveMaximum",n[n.IntegerExclusiveMinimum=23]="IntegerExclusiveMinimum",n[n.IntegerMaximum=24]="IntegerMaximum",n[n.IntegerMinimum=25]="IntegerMinimum",n[n.IntegerMultipleOf=26]="IntegerMultipleOf",n[n.Integer=27]="Integer",n[n.IntersectUnevaluatedProperties=28]="IntersectUnevaluatedProperties",n[n.Intersect=29]="Intersect",n[n.Iterator=30]="Iterator",n[n.Kind=31]="Kind",n[n.Literal=32]="Literal",n[n.Never=33]="Never",n[n.Not=34]="Not",n[n.Null=35]="Null",n[n.NumberExclusiveMaximum=36]="NumberExclusiveMaximum",n[n.NumberExclusiveMinimum=37]="NumberExclusiveMinimum",n[n.NumberMaximum=38]="NumberMaximum",n[n.NumberMinimum=39]="NumberMinimum",n[n.NumberMultipleOf=40]="NumberMultipleOf",n[n.Number=41]="Number",n[n.ObjectAdditionalProperties=42]="ObjectAdditionalProperties",n[n.ObjectMaxProperties=43]="ObjectMaxProperties",n[n.ObjectMinProperties=44]="ObjectMinProperties",n[n.ObjectRequiredProperty=45]="ObjectRequiredProperty",n[n.Object=46]="Object",n[n.Promise=47]="Promise",n[n.RegExp=48]="RegExp",n[n.StringFormatUnknown=49]="StringFormatUnknown",n[n.StringFormat=50]="StringFormat",n[n.StringMaxLength=51]="StringMaxLength",n[n.StringMinLength=52]="StringMinLength",n[n.StringPattern=53]="StringPattern",n[n.String=54]="String",n[n.Symbol=55]="Symbol",n[n.TupleLength=56]="TupleLength",n[n.Tuple=57]="Tuple",n[n.Uint8ArrayMaxByteLength=58]="Uint8ArrayMaxByteLength",n[n.Uint8ArrayMinByteLength=59]="Uint8ArrayMinByteLength",n[n.Uint8Array=60]="Uint8Array",n[n.Undefined=61]="Undefined",n[n.Union=62]="Union",n[n.Void=63]="Void"})(c||(c={}));class sm extends X{constructor(t){super("Unknown type");U(this,"schema");this.schema=t}}function En(n){return n.replace(/~/g,"~0").replace(/\//g,"~1")}function O(n){return n!==void 0}class cm{constructor(e){U(this,"iterator");this.iterator=e}[Symbol.iterator](){return this.iterator}First(){const e=this.iterator.next();return e.done?void 0:e.value}}function p(n,e,t,r){return{type:n,schema:e,path:t,value:r,message:zf()({errorType:n,path:t,schema:e,value:r})}}function*fm(n,e,t,r){}function*mm(n,e,t,r){if(!sn(r))return yield p(c.Array,n,t,r);O(n.minItems)&&!(r.length>=n.minItems)&&(yield p(c.ArrayMinItems,n,t,r)),O(n.maxItems)&&!(r.length<=n.maxItems)&&(yield p(c.ArrayMaxItems,n,t,r));for(let f=0;f<r.length;f++)yield*Y(n.items,e,`${t}/${f}`,r[f]);if(n.uniqueItems===!0&&!function(){const f=new Set;for(const d of r){const l=Yt(d);if(f.has(l))return!1;f.add(l)}return!0}()&&(yield p(c.ArrayUniqueItems,n,t,r)),!(O(n.contains)||O(n.minContains)||O(n.maxContains)))return;const i=O(n.contains)?n.contains:nn(),u=r.reduce((f,d,l)=>Y(i,e,`${t}${l}`,d).next().done===!0?f+1:f,0);u===0&&(yield p(c.ArrayContains,n,t,r)),b(n.minContains)&&u<n.minContains&&(yield p(c.ArrayMinContains,n,t,r)),b(n.maxContains)&&u>n.maxContains&&(yield p(c.ArrayMaxContains,n,t,r))}function*dm(n,e,t,r){si(r)||(yield p(c.AsyncIterator,n,t,r))}function*pm(n,e,t,r){if(!Bn(r))return yield p(c.BigInt,n,t,r);O(n.exclusiveMaximum)&&!(r<n.exclusiveMaximum)&&(yield p(c.BigIntExclusiveMaximum,n,t,r)),O(n.exclusiveMinimum)&&!(r>n.exclusiveMinimum)&&(yield p(c.BigIntExclusiveMinimum,n,t,r)),O(n.maximum)&&!(r<=n.maximum)&&(yield p(c.BigIntMaximum,n,t,r)),O(n.minimum)&&!(r>=n.minimum)&&(yield p(c.BigIntMinimum,n,t,r)),O(n.multipleOf)&&r%n.multipleOf!==BigInt(0)&&(yield p(c.BigIntMultipleOf,n,t,r))}function*ym(n,e,t,r){ut(r)||(yield p(c.Boolean,n,t,r))}function*am(n,e,t,r){yield*Y(n.returns,e,t,r.prototype)}function*lm(n,e,t,r){if(!Ht(r))return yield p(c.Date,n,t,r);O(n.exclusiveMaximumTimestamp)&&!(r.getTime()<n.exclusiveMaximumTimestamp)&&(yield p(c.DateExclusiveMaximumTimestamp,n,t,r)),O(n.exclusiveMinimumTimestamp)&&!(r.getTime()>n.exclusiveMinimumTimestamp)&&(yield p(c.DateExclusiveMinimumTimestamp,n,t,r)),O(n.maximumTimestamp)&&!(r.getTime()<=n.maximumTimestamp)&&(yield p(c.DateMaximumTimestamp,n,t,r)),O(n.minimumTimestamp)&&!(r.getTime()>=n.minimumTimestamp)&&(yield p(c.DateMinimumTimestamp,n,t,r)),O(n.multipleOfTimestamp)&&r.getTime()%n.multipleOfTimestamp!==0&&(yield p(c.DateMultipleOfTimestamp,n,t,r))}function*$m(n,e,t,r){Wt(r)||(yield p(c.Function,n,t,r))}function*xm(n,e,t,r){if(!mi(r))return yield p(c.Integer,n,t,r);O(n.exclusiveMaximum)&&!(r<n.exclusiveMaximum)&&(yield p(c.IntegerExclusiveMaximum,n,t,r)),O(n.exclusiveMinimum)&&!(r>n.exclusiveMinimum)&&(yield p(c.IntegerExclusiveMinimum,n,t,r)),O(n.maximum)&&!(r<=n.maximum)&&(yield p(c.IntegerMaximum,n,t,r)),O(n.minimum)&&!(r>=n.minimum)&&(yield p(c.IntegerMinimum,n,t,r)),O(n.multipleOf)&&r%n.multipleOf!==0&&(yield p(c.IntegerMultipleOf,n,t,r))}function*gm(n,e,t,r){for(const i of n.allOf){const u=Y(i,e,t,r).next();u.done||(yield p(c.Intersect,n,t,r),yield u.value)}if(n.unevaluatedProperties===!1){const i=new RegExp(ue(n));for(const u of Object.getOwnPropertyNames(r))i.test(u)||(yield p(c.IntersectUnevaluatedProperties,n,`${t}/${u}`,r))}if(typeof n.unevaluatedProperties=="object"){const i=new RegExp(ue(n));for(const u of Object.getOwnPropertyNames(r))if(!i.test(u)){const f=Y(n.unevaluatedProperties,e,`${t}/${u}`,r[u]).next();f.done||(yield f.value)}}}function*Im(n,e,t,r){ci(r)||(yield p(c.Iterator,n,t,r))}function*Fm(n,e,t,r){r!==n.const&&(yield p(c.Literal,n,t,r))}function*bm(n,e,t,r){yield p(c.Never,n,t,r)}function*Om(n,e,t,r){Y(n.not,e,t,r).next().done===!0&&(yield p(c.Not,n,t,r))}function*Pm(n,e,t,r){ot(r)||(yield p(c.Null,n,t,r))}function*wm(n,e,t,r){if(!J.IsNumberLike(r))return yield p(c.Number,n,t,r);O(n.exclusiveMaximum)&&!(r<n.exclusiveMaximum)&&(yield p(c.NumberExclusiveMaximum,n,t,r)),O(n.exclusiveMinimum)&&!(r>n.exclusiveMinimum)&&(yield p(c.NumberExclusiveMinimum,n,t,r)),O(n.maximum)&&!(r<=n.maximum)&&(yield p(c.NumberMaximum,n,t,r)),O(n.minimum)&&!(r>=n.minimum)&&(yield p(c.NumberMinimum,n,t,r)),O(n.multipleOf)&&r%n.multipleOf!==0&&(yield p(c.NumberMultipleOf,n,t,r))}function*Mm(n,e,t,r){if(!J.IsObjectLike(r))return yield p(c.Object,n,t,r);O(n.minProperties)&&!(Object.getOwnPropertyNames(r).length>=n.minProperties)&&(yield p(c.ObjectMinProperties,n,t,r)),O(n.maxProperties)&&!(Object.getOwnPropertyNames(r).length<=n.maxProperties)&&(yield p(c.ObjectMaxProperties,n,t,r));const i=Array.isArray(n.required)?n.required:[],u=Object.getOwnPropertyNames(n.properties),f=Object.getOwnPropertyNames(r);for(const d of i)f.includes(d)||(yield p(c.ObjectRequiredProperty,n.properties[d],`${t}/${En(d)}`,void 0));if(n.additionalProperties===!1)for(const d of f)u.includes(d)||(yield p(c.ObjectAdditionalProperties,n,`${t}/${En(d)}`,r[d]));if(typeof n.additionalProperties=="object")for(const d of f)u.includes(d)||(yield*Y(n.additionalProperties,e,`${t}/${En(d)}`,r[d]));for(const d of u){const l=n.properties[d];n.required&&n.required.includes(d)?(yield*Y(l,e,`${t}/${En(d)}`,r[d]),ae(n)&&!(d in r)&&(yield p(c.ObjectRequiredProperty,l,`${t}/${En(d)}`,void 0))):J.IsExactOptionalProperty(r,d)&&(yield*Y(l,e,`${t}/${En(d)}`,r[d]))}}function*Rm(n,e,t,r){fi(r)||(yield p(c.Promise,n,t,r))}function*Nm(n,e,t,r){if(!J.IsRecordLike(r))return yield p(c.Object,n,t,r);O(n.minProperties)&&!(Object.getOwnPropertyNames(r).length>=n.minProperties)&&(yield p(c.ObjectMinProperties,n,t,r)),O(n.maxProperties)&&!(Object.getOwnPropertyNames(r).length<=n.maxProperties)&&(yield p(c.ObjectMaxProperties,n,t,r));const[i,u]=Object.entries(n.patternProperties)[0],f=new RegExp(i);for(const[d,l]of Object.entries(r))f.test(d)&&(yield*Y(u,e,`${t}/${En(d)}`,l));if(typeof n.additionalProperties=="object")for(const[d,l]of Object.entries(r))f.test(d)||(yield*Y(n.additionalProperties,e,`${t}/${En(d)}`,l));if(n.additionalProperties===!1){for(const[d,l]of Object.entries(r))if(!f.test(d))return yield p(c.ObjectAdditionalProperties,n,`${t}/${En(d)}`,l)}}function*Am(n,e,t,r){yield*Y(Mn(n,e),e,t,r)}function*jm(n,e,t,r){if(!cn(r))return yield p(c.String,n,t,r);if(O(n.minLength)&&!(r.length>=n.minLength)&&(yield p(c.StringMinLength,n,t,r)),O(n.maxLength)&&!(r.length<=n.maxLength)&&(yield p(c.StringMaxLength,n,t,r)),!new RegExp(n.source,n.flags).test(r))return yield p(c.RegExp,n,t,r)}function*Um(n,e,t,r){if(!cn(r))return yield p(c.String,n,t,r);O(n.minLength)&&!(r.length>=n.minLength)&&(yield p(c.StringMinLength,n,t,r)),O(n.maxLength)&&!(r.length<=n.maxLength)&&(yield p(c.StringMaxLength,n,t,r)),cn(n.pattern)&&(new RegExp(n.pattern).test(r)||(yield p(c.StringPattern,n,t,r))),cn(n.format)&&(ve(n.format)?Rt(n.format)(r)||(yield p(c.StringFormat,n,t,r)):yield p(c.StringFormatUnknown,n,t,r))}function*Lm(n,e,t,r){st(r)||(yield p(c.Symbol,n,t,r))}function*km(n,e,t,r){if(!cn(r))return yield p(c.String,n,t,r);new RegExp(n.pattern).test(r)||(yield p(c.StringPattern,n,t,r))}function*Cm(n,e,t,r){yield*Y(Mn(n,e),e,t,r)}function*Sm(n,e,t,r){if(!sn(r))return yield p(c.Tuple,n,t,r);if(n.items===void 0&&r.length!==0)return yield p(c.TupleLength,n,t,r);if(r.length!==n.maxItems)return yield p(c.TupleLength,n,t,r);if(n.items)for(let i=0;i<n.items.length;i++)yield*Y(n.items[i],e,`${t}/${i}`,r[i])}function*Em(n,e,t,r){$e(r)||(yield p(c.Undefined,n,t,r))}function*Bm(n,e,t,r){let i=0;for(const u of n.anyOf){const f=[...Y(u,e,t,r)];if(f.length===0)return;i+=f.length}i>0&&(yield p(c.Union,n,t,r))}function*Dm(n,e,t,r){if(!Jt(r))return yield p(c.Uint8Array,n,t,r);O(n.maxByteLength)&&!(r.length<=n.maxByteLength)&&(yield p(c.Uint8ArrayMaxByteLength,n,t,r)),O(n.minByteLength)&&!(r.length>=n.minByteLength)&&(yield p(c.Uint8ArrayMinByteLength,n,t,r))}function*qm(n,e,t,r){}function*Tm(n,e,t,r){J.IsVoidLike(r)||(yield p(c.Void,n,t,r))}function*_m(n,e,t,r){At(n[a])(n,r)||(yield p(c.Kind,n,t,r))}function*Y(n,e,t,r){const i=O(n.$id)?[...e,n]:e,u=n;switch(u[a]){case"Any":return yield*fm();case"Array":return yield*mm(u,i,t,r);case"AsyncIterator":return yield*dm(u,i,t,r);case"BigInt":return yield*pm(u,i,t,r);case"Boolean":return yield*ym(u,i,t,r);case"Constructor":return yield*am(u,i,t,r);case"Date":return yield*lm(u,i,t,r);case"Function":return yield*$m(u,i,t,r);case"Integer":return yield*xm(u,i,t,r);case"Intersect":return yield*gm(u,i,t,r);case"Iterator":return yield*Im(u,i,t,r);case"Literal":return yield*Fm(u,i,t,r);case"Never":return yield*bm(u,i,t,r);case"Not":return yield*Om(u,i,t,r);case"Null":return yield*Pm(u,i,t,r);case"Number":return yield*wm(u,i,t,r);case"Object":return yield*Mm(u,i,t,r);case"Promise":return yield*Rm(u,i,t,r);case"Record":return yield*Nm(u,i,t,r);case"Ref":return yield*Am(u,i,t,r);case"RegExp":return yield*jm(u,i,t,r);case"String":return yield*Um(u,i,t,r);case"Symbol":return yield*Lm(u,i,t,r);case"TemplateLiteral":return yield*km(u,i,t,r);case"This":return yield*Cm(u,i,t,r);case"Tuple":return yield*Sm(u,i,t,r);case"Undefined":return yield*Em(u,i,t,r);case"Union":return yield*Bm(u,i,t,r);case"Uint8Array":return yield*Dm(u,i,t,r);case"Unknown":return yield*qm();case"Void":return yield*Tm(u,i,t,r);default:if(!ie(u[a]))throw new sm(n);return yield*_m(u,i,t,r)}}function lt(...n){const e=n.length===3?Y(n[0],n[1],"",n[2]):Y(n[0],[],"",n[1]);return new cm(e)}class Km extends X{constructor(t){super("Unknown type");U(this,"schema");this.schema=t}}function Gm(n){return n[a]==="Any"||n[a]==="Unknown"}function P(n){return n!==void 0}function zm(n,e,t){return!0}function Hm(n,e,t){if(!sn(t)||P(n.minItems)&&!(t.length>=n.minItems)||P(n.maxItems)&&!(t.length<=n.maxItems)||!t.every(u=>Q(n.items,e,u))||n.uniqueItems===!0&&!function(){const u=new Set;for(const f of t){const d=Yt(f);if(u.has(d))return!1;u.add(d)}return!0}())return!1;if(!(P(n.contains)||b(n.minContains)||b(n.maxContains)))return!0;const r=P(n.contains)?n.contains:nn(),i=t.reduce((u,f)=>Q(r,e,f)?u+1:u,0);return!(i===0||b(n.minContains)&&i<n.minContains||b(n.maxContains)&&i>n.maxContains)}function Jm(n,e,t){return si(t)}function Wm(n,e,t){return!(!Bn(t)||P(n.exclusiveMaximum)&&!(t<n.exclusiveMaximum)||P(n.exclusiveMinimum)&&!(t>n.exclusiveMinimum)||P(n.maximum)&&!(t<=n.maximum)||P(n.minimum)&&!(t>=n.minimum)||P(n.multipleOf)&&t%n.multipleOf!==BigInt(0))}function Ym(n,e,t){return ut(t)}function Qm(n,e,t){return Q(n.returns,e,t.prototype)}function Xm(n,e,t){return!(!Ht(t)||P(n.exclusiveMaximumTimestamp)&&!(t.getTime()<n.exclusiveMaximumTimestamp)||P(n.exclusiveMinimumTimestamp)&&!(t.getTime()>n.exclusiveMinimumTimestamp)||P(n.maximumTimestamp)&&!(t.getTime()<=n.maximumTimestamp)||P(n.minimumTimestamp)&&!(t.getTime()>=n.minimumTimestamp)||P(n.multipleOfTimestamp)&&t.getTime()%n.multipleOfTimestamp!==0)}function Zm(n,e,t){return Wt(t)}function Vm(n,e,t){return!(!mi(t)||P(n.exclusiveMaximum)&&!(t<n.exclusiveMaximum)||P(n.exclusiveMinimum)&&!(t>n.exclusiveMinimum)||P(n.maximum)&&!(t<=n.maximum)||P(n.minimum)&&!(t>=n.minimum)||P(n.multipleOf)&&t%n.multipleOf!==0)}function hm(n,e,t){const r=n.allOf.every(i=>Q(i,e,t));if(n.unevaluatedProperties===!1){const i=new RegExp(ue(n)),u=Object.getOwnPropertyNames(t).every(f=>i.test(f));return r&&u}else if(w(n.unevaluatedProperties)){const i=new RegExp(ue(n)),u=Object.getOwnPropertyNames(t).every(f=>i.test(f)||Q(n.unevaluatedProperties,e,t[f]));return r&&u}else return r}function vm(n,e,t){return ci(t)}function nd(n,e,t){return t===n.const}function ed(n,e,t){return!1}function td(n,e,t){return!Q(n.not,e,t)}function rd(n,e,t){return ot(t)}function id(n,e,t){return!(!J.IsNumberLike(t)||P(n.exclusiveMaximum)&&!(t<n.exclusiveMaximum)||P(n.exclusiveMinimum)&&!(t>n.exclusiveMinimum)||P(n.minimum)&&!(t>=n.minimum)||P(n.maximum)&&!(t<=n.maximum)||P(n.multipleOf)&&t%n.multipleOf!==0)}function od(n,e,t){if(!J.IsObjectLike(t)||P(n.minProperties)&&!(Object.getOwnPropertyNames(t).length>=n.minProperties)||P(n.maxProperties)&&!(Object.getOwnPropertyNames(t).length<=n.maxProperties))return!1;const r=Object.getOwnPropertyNames(n.properties);for(const i of r){const u=n.properties[i];if(n.required&&n.required.includes(i)){if(!Q(u,e,t[i])||(ae(u)||Gm(u))&&!(i in t))return!1}else if(J.IsExactOptionalProperty(t,i)&&!Q(u,e,t[i]))return!1}if(n.additionalProperties===!1){const i=Object.getOwnPropertyNames(t);return n.required&&n.required.length===r.length&&i.length===r.length?!0:i.every(u=>r.includes(u))}else return typeof n.additionalProperties=="object"?Object.getOwnPropertyNames(t).every(u=>r.includes(u)||Q(n.additionalProperties,e,t[u])):!0}function ud(n,e,t){return fi(t)}function sd(n,e,t){if(!J.IsRecordLike(t)||P(n.minProperties)&&!(Object.getOwnPropertyNames(t).length>=n.minProperties)||P(n.maxProperties)&&!(Object.getOwnPropertyNames(t).length<=n.maxProperties))return!1;const[r,i]=Object.entries(n.patternProperties)[0],u=new RegExp(r),f=Object.entries(t).every(([$,E])=>u.test($)?Q(i,e,E):!0),d=typeof n.additionalProperties=="object"?Object.entries(t).every(([$,E])=>u.test($)?!0:Q(n.additionalProperties,e,E)):!0,l=n.additionalProperties===!1?Object.getOwnPropertyNames(t).every($=>u.test($)):!0;return f&&d&&l}function cd(n,e,t){return Q(Mn(n,e),e,t)}function fd(n,e,t){const r=new RegExp(n.source,n.flags);return P(n.minLength)&&!(t.length>=n.minLength)||P(n.maxLength)&&!(t.length<=n.maxLength)?!1:r.test(t)}function md(n,e,t){return!cn(t)||P(n.minLength)&&!(t.length>=n.minLength)||P(n.maxLength)&&!(t.length<=n.maxLength)||P(n.pattern)&&!new RegExp(n.pattern).test(t)?!1:P(n.format)?ve(n.format)?Rt(n.format)(t):!1:!0}function dd(n,e,t){return st(t)}function pd(n,e,t){return cn(t)&&new RegExp(n.pattern).test(t)}function yd(n,e,t){return Q(Mn(n,e),e,t)}function ad(n,e,t){if(!sn(t)||n.items===void 0&&t.length!==0||t.length!==n.maxItems)return!1;if(!n.items)return!0;for(let r=0;r<n.items.length;r++)if(!Q(n.items[r],e,t[r]))return!1;return!0}function ld(n,e,t){return $e(t)}function $d(n,e,t){return n.anyOf.some(r=>Q(r,e,t))}function xd(n,e,t){return!(!Jt(t)||P(n.maxByteLength)&&!(t.length<=n.maxByteLength)||P(n.minByteLength)&&!(t.length>=n.minByteLength))}function gd(n,e,t){return!0}function Id(n,e,t){return J.IsVoidLike(t)}function Fd(n,e,t){return ie(n[a])?At(n[a])(n,t):!1}function Q(n,e,t){const r=P(n.$id)?[...e,n]:e,i=n;switch(i[a]){case"Any":return zm();case"Array":return Hm(i,r,t);case"AsyncIterator":return Jm(i,r,t);case"BigInt":return Wm(i,r,t);case"Boolean":return Ym(i,r,t);case"Constructor":return Qm(i,r,t);case"Date":return Xm(i,r,t);case"Function":return Zm(i,r,t);case"Integer":return Vm(i,r,t);case"Intersect":return hm(i,r,t);case"Iterator":return vm(i,r,t);case"Literal":return nd(i,r,t);case"Never":return ed();case"Not":return td(i,r,t);case"Null":return rd(i,r,t);case"Number":return id(i,r,t);case"Object":return od(i,r,t);case"Promise":return ud(i,r,t);case"Record":return sd(i,r,t);case"Ref":return cd(i,r,t);case"RegExp":return fd(i,r,t);case"String":return md(i,r,t);case"Symbol":return dd(i,r,t);case"TemplateLiteral":return pd(i,r,t);case"This":return yd(i,r,t);case"Tuple":return ad(i,r,t);case"Undefined":return ld(i,r,t);case"Union":return $d(i,r,t);case"Uint8Array":return xd(i,r,t);case"Unknown":return gd();case"Void":return Id(i,r,t);default:if(!ie(i[a]))throw new Km(i);return Fd(i,r,t)}}function Me(...n){return n.length===3?Q(n[0],n[1],n[2]):Q(n[0],[],n[1])}class $i extends X{constructor(t,r,i){super("Unable to decode due to invalid value");U(this,"schema");U(this,"value");U(this,"error");this.schema=t,this.value=r,this.error=i}}class bd extends X{constructor(t,r,i){super(`${i instanceof Error?i.message:"Unknown error"}`);U(this,"schema");U(this,"value");this.schema=t,this.value=r}}function S(n,e){try{return k(n)?n[Fn].Decode(e):e}catch(t){throw new bd(n,e,t)}}function Od(n,e,t){return sn(t)?S(n,t.map(r=>Cn(n.items,e,r))):S(n,t)}function Pd(n,e,t){if(!vn(t)||di(t))return S(n,t);const r=Jn(n),i=r.reduce((l,$)=>$ in l?{...l,[$]:Cn(Ue(n,[$]),e,l[$])}:l,t);if(!k(n.unevaluatedProperties))return S(n,i);const u=Object.getOwnPropertyNames(i),f=n.unevaluatedProperties,d=u.reduce((l,$)=>r.includes($)?l:{...l,[$]:S(f,l[$])},i);return S(n,d)}function wd(n,e,t){return S(n,Cn(n.not,e,t))}function Md(n,e,t){if(!vn(t))return S(n,t);const r=Jn(n),i=r.reduce((l,$)=>$ in l?{...l,[$]:Cn(n.properties[$],e,l[$])}:l,t);if(!w(n.additionalProperties))return S(n,i);const u=Object.getOwnPropertyNames(i),f=n.additionalProperties,d=u.reduce((l,$)=>r.includes($)?l:{...l,[$]:S(f,l[$])},i);return S(n,d)}function Rd(n,e,t){if(!vn(t))return S(n,t);const r=Object.getOwnPropertyNames(n.patternProperties)[0],i=new RegExp(r),u=Object.getOwnPropertyNames(t).reduce(($,E)=>i.test(E)?{...$,[E]:Cn(n.patternProperties[r],e,$[E])}:$,t);if(!w(n.additionalProperties))return S(n,u);const f=Object.getOwnPropertyNames(u),d=n.additionalProperties,l=f.reduce(($,E)=>i.test(E)?$:{...$,[E]:S(d,$[E])},u);return S(n,l)}function Nd(n,e,t){const r=Mn(n,e);return S(n,Cn(r,e,t))}function Ad(n,e,t){const r=Mn(n,e);return S(n,Cn(r,e,t))}function jd(n,e,t){return sn(t)&&sn(n.items)?S(n,n.items.map((r,i)=>Cn(r,e,t[i]))):S(n,t)}function Ud(n,e,t){for(const r of n.anyOf){if(!Me(r,e,t))continue;const i=Cn(r,e,t);return S(n,i)}return S(n,t)}function Cn(n,e,t){const r=typeof n.$id=="string"?[...e,n]:e,i=n;switch(n[a]){case"Array":return Od(i,r,t);case"Intersect":return Pd(i,r,t);case"Not":return wd(i,r,t);case"Object":return Md(i,r,t);case"Record":return Rd(i,r,t);case"Ref":return Nd(i,r,t);case"Symbol":return S(i,t);case"This":return Ad(i,r,t);case"Tuple":return jd(i,r,t);case"Union":return Ud(i,r,t);default:return S(i,t)}}function xi(n,e,t){return Cn(n,e,t)}class gi extends X{constructor(t,r,i){super("Unable to encode due to invalid value");U(this,"schema");U(this,"value");U(this,"error");this.schema=t,this.value=r,this.error=i}}class Ld extends X{constructor(t,r,i){super(`${i instanceof Error?i.message:"Unknown error"}`);U(this,"schema");U(this,"value");this.schema=t,this.value=r}}function K(n,e){try{return k(n)?n[Fn].Encode(e):e}catch(t){throw new Ld(n,e,t)}}function kd(n,e,t){const r=K(n,t);return sn(r)?r.map(i=>jn(n.items,e,i)):r}function Cd(n,e,t){const r=K(n,t);if(!vn(t)||di(t))return r;const i=Jn(n),u=i.reduce((l,$)=>$ in r?{...l,[$]:jn(Ue(n,[$]),e,l[$])}:l,r);if(!k(n.unevaluatedProperties))return K(n,u);const f=Object.getOwnPropertyNames(u),d=n.unevaluatedProperties;return f.reduce((l,$)=>i.includes($)?l:{...l,[$]:K(d,l[$])},u)}function Sd(n,e,t){return K(n.not,K(n,t))}function Ed(n,e,t){const r=K(n,t);if(!vn(t))return r;const i=Jn(n),u=i.reduce((l,$)=>$ in l?{...l,[$]:jn(n.properties[$],e,l[$])}:l,r);if(!w(n.additionalProperties))return u;const f=Object.getOwnPropertyNames(u),d=n.additionalProperties;return f.reduce((l,$)=>i.includes($)?l:{...l,[$]:K(d,l[$])},u)}function Bd(n,e,t){const r=K(n,t);if(!vn(t))return r;const i=Object.getOwnPropertyNames(n.patternProperties)[0],u=new RegExp(i),f=Object.getOwnPropertyNames(t).reduce(($,E)=>u.test(E)?{...$,[E]:jn(n.patternProperties[i],e,$[E])}:$,r);if(!w(n.additionalProperties))return K(n,f);const d=Object.getOwnPropertyNames(f),l=n.additionalProperties;return d.reduce(($,E)=>u.test(E)?$:{...$,[E]:K(l,$[E])},f)}function Dd(n,e,t){const r=Mn(n,e),i=jn(r,e,t);return K(n,i)}function qd(n,e,t){const r=Mn(n,e),i=jn(r,e,t);return K(n,i)}function Td(n,e,t){const r=K(n,t);return sn(n.items)?n.items.map((i,u)=>jn(i,e,r[u])):[]}function _d(n,e,t){for(const r of n.anyOf){if(!Me(r,e,t))continue;const i=jn(r,e,t);return K(n,i)}for(const r of n.anyOf){const i=jn(r,e,t);if(Me(n,e,i))return K(n,i)}return K(n,t)}function jn(n,e,t){const r=typeof n.$id=="string"?[...e,n]:e,i=n;switch(n[a]){case"Array":return kd(i,r,t);case"Intersect":return Cd(i,r,t);case"Not":return Sd(i,r,t);case"Object":return Ed(i,r,t);case"Record":return Bd(i,r,t);case"Ref":return Dd(i,r,t);case"This":return qd(i,r,t);case"Tuple":return Td(i,r,t);case"Union":return _d(i,r,t);default:return K(i,t)}}function Ii(n,e,t){return jn(n,e,t)}function Kd(n,e){return k(n)||H(n.items,e)}function Gd(n,e){return k(n)||H(n.items,e)}function zd(n,e){return k(n)||H(n.returns,e)||n.parameters.some(t=>H(t,e))}function Hd(n,e){return k(n)||H(n.returns,e)||n.parameters.some(t=>H(t,e))}function Jd(n,e){return k(n)||k(n.unevaluatedProperties)||n.allOf.some(t=>H(t,e))}function Wd(n,e){return k(n)||H(n.items,e)}function Yd(n,e){return k(n)||H(n.not,e)}function Qd(n,e){return k(n)||Object.values(n.properties).some(t=>H(t,e))||w(n.additionalProperties)&&H(n.additionalProperties,e)}function Xd(n,e){return k(n)||H(n.item,e)}function Zd(n,e){const t=Object.getOwnPropertyNames(n.patternProperties)[0],r=n.patternProperties[t];return k(n)||H(r,e)||w(n.additionalProperties)&&k(n.additionalProperties)}function Vd(n,e){return k(n)?!0:H(Mn(n,e),e)}function hd(n,e){return k(n)?!0:H(Mn(n,e),e)}function vd(n,e){return k(n)||!$e(n.items)&&n.items.some(t=>H(t,e))}function np(n,e){return k(n)||n.anyOf.some(t=>H(t,e))}function H(n,e){const t=cn(n.$id)?[...e,n]:e,r=n;if(n.$id&&$t.has(n.$id))return!1;switch(n.$id&&$t.add(n.$id),n[a]){case"Array":return Kd(r,t);case"AsyncIterator":return Gd(r,t);case"Constructor":return zd(r,t);case"Function":return Hd(r,t);case"Intersect":return Jd(r,t);case"Iterator":return Wd(r,t);case"Not":return Yd(r,t);case"Object":return Qd(r,t);case"Promise":return Xd(r,t);case"Record":return Zd(r,t);case"Ref":return Vd(r,t);case"This":return hd(r,t);case"Tuple":return vd(r,t);case"Union":return np(r,t);default:return k(n)}}const $t=new Set;function ep(n,e){return $t.clear(),H(n,e)}class tp{constructor(e,t,r,i){U(this,"schema");U(this,"references");U(this,"checkFunc");U(this,"code");U(this,"hasTransform");this.schema=e,this.references=t,this.checkFunc=r,this.code=i,this.hasTransform=ep(e,t)}Code(){return this.code}Errors(e){return lt(this.schema,this.references,e)}Check(e){return this.checkFunc(e)}Decode(e){if(!this.checkFunc(e))throw new $i(this.schema,e,this.Errors(e).First());return this.hasTransform?xi(this.schema,this.references,e):e}Encode(e){const t=this.hasTransform?Ii(this.schema,this.references,e):e;if(!this.checkFunc(t))throw new gi(this.schema,e,this.Errors(e).First());return t}}var Dn;(function(n){function e(u){return u===36}n.DollarSign=e;function t(u){return u===95}n.IsUnderscore=t;function r(u){return u>=65&&u<=90||u>=97&&u<=122}n.IsAlpha=r;function i(u){return u>=48&&u<=57}n.IsNumeric=i})(Dn||(Dn={}));var We;(function(n){function e(u){return u.length===0?!1:Dn.IsNumeric(u.charCodeAt(0))}function t(u){if(e(u))return!1;for(let f=0;f<u.length;f++){const d=u.charCodeAt(f);if(!(Dn.IsAlpha(d)||Dn.IsNumeric(d)||Dn.DollarSign(d)||Dn.IsUnderscore(d)))return!1}return!0}function r(u){return u.replace(/'/g,"\\'")}function i(u,f){return t(f)?`${u}.${f}`:`${u}['${r(f)}']`}n.Encode=i})(We||(We={}));var xt;(function(n){function e(t){const r=[];for(let i=0;i<t.length;i++){const u=t.charCodeAt(i);Dn.IsNumeric(u)||Dn.IsAlpha(u)?r.push(t.charAt(i)):r.push(`_${u}_`)}return r.join("").replace(/__/g,"_")}n.Encode=e})(xt||(xt={}));var gt;(function(n){function e(t){return t.replace(/'/g,"\\'")}n.Escape=e})(gt||(gt={}));class rp extends X{constructor(t){super("Unknown type");U(this,"schema");this.schema=t}}class dr extends X{constructor(t){super("Preflight validation check failed to guard for the given schema");U(this,"schema");this.schema=t}}var Wn;(function(n){function e(f,d,l){return J.ExactOptionalPropertyTypes?`('${d}' in ${f} ? ${l} : true)`:`(${We.Encode(f,d)} !== undefined ? ${l} : true)`}n.IsExactOptionalProperty=e;function t(f){return J.AllowArrayObject?`(typeof ${f} === 'object' && ${f} !== null)`:`(typeof ${f} === 'object' && ${f} !== null && !Array.isArray(${f}))`}n.IsObjectLike=t;function r(f){return J.AllowArrayObject?`(typeof ${f} === 'object' && ${f} !== null && !(${f} instanceof Date) && !(${f} instanceof Uint8Array))`:`(typeof ${f} === 'object' && ${f} !== null && !Array.isArray(${f}) && !(${f} instanceof Date) && !(${f} instanceof Uint8Array))`}n.IsRecordLike=r;function i(f){return J.AllowNaN?`typeof ${f} === 'number'`:`(typeof ${f} === 'number' && Number.isFinite(${f}))`}n.IsNumberLike=i;function u(f){return J.AllowNullVoid?`(${f} === undefined || ${f} === null)`:`${f} === undefined`}n.IsVoidLike=u})(Wn||(Wn={}));var _n;(function(n){function e(o){return o[a]==="Any"||o[a]==="Unknown"}function*t(o,y,s){yield"true"}function*r(o,y,s){yield`Array.isArray(${s})`;const[F,x]=[De("value","any"),De("acc","number")];b(o.maxItems)&&(yield`${s}.length <= ${o.maxItems}`),b(o.minItems)&&(yield`${s}.length >= ${o.minItems}`);const g=gn(o.items,y,"value");if(yield`${s}.every((${F}) => ${g})`,w(o.contains)||b(o.minContains)||b(o.maxContains)){const L=w(o.contains)?o.contains:nn(),on=gn(L,y,"value"),Sn=b(o.minContains)?[`(count >= ${o.minContains})`]:[],In=b(o.maxContains)?[`(count <= ${o.maxContains})`]:[],Rn=`const count = value.reduce((${x}, ${F}) => ${on} ? acc + 1 : acc, 0)`,qe=["(count > 0)",...Sn,...In].join(" && ");yield`((${F}) => { ${Rn}; return ${qe}})(${s})`}o.uniqueItems===!0&&(yield`((${F}) => { const set = new Set(); for(const element of value) { const hashed = hash(element); if(set.has(hashed)) { return false } else { set.add(hashed) } } return true } )(${s})`)}function*i(o,y,s){yield`(typeof value === 'object' && Symbol.asyncIterator in ${s})`}function*u(o,y,s){yield`(typeof ${s} === 'bigint')`,Bn(o.exclusiveMaximum)&&(yield`${s} < BigInt(${o.exclusiveMaximum})`),Bn(o.exclusiveMinimum)&&(yield`${s} > BigInt(${o.exclusiveMinimum})`),Bn(o.maximum)&&(yield`${s} <= BigInt(${o.maximum})`),Bn(o.minimum)&&(yield`${s} >= BigInt(${o.minimum})`),Bn(o.multipleOf)&&(yield`(${s} % BigInt(${o.multipleOf})) === 0`)}function*f(o,y,s){yield`(typeof ${s} === 'boolean')`}function*d(o,y,s){yield*xe(o.returns,y,`${s}.prototype`)}function*l(o,y,s){yield`(${s} instanceof Date) && Number.isFinite(${s}.getTime())`,b(o.exclusiveMaximumTimestamp)&&(yield`${s}.getTime() < ${o.exclusiveMaximumTimestamp}`),b(o.exclusiveMinimumTimestamp)&&(yield`${s}.getTime() > ${o.exclusiveMinimumTimestamp}`),b(o.maximumTimestamp)&&(yield`${s}.getTime() <= ${o.maximumTimestamp}`),b(o.minimumTimestamp)&&(yield`${s}.getTime() >= ${o.minimumTimestamp}`),b(o.multipleOfTimestamp)&&(yield`(${s}.getTime() % ${o.multipleOfTimestamp}) === 0`)}function*$(o,y,s){yield`(typeof ${s} === 'function')`}function*E(o,y,s){yield`(typeof ${s} === 'number' && Number.isInteger(${s}))`,b(o.exclusiveMaximum)&&(yield`${s} < ${o.exclusiveMaximum}`),b(o.exclusiveMinimum)&&(yield`${s} > ${o.exclusiveMinimum}`),b(o.maximum)&&(yield`${s} <= ${o.maximum}`),b(o.minimum)&&(yield`${s} >= ${o.minimum}`),b(o.multipleOf)&&(yield`(${s} % ${o.multipleOf}) === 0`)}function*bi(o,y,s){const F=o.allOf.map(x=>gn(x,y,s)).join(" && ");if(o.unevaluatedProperties===!1){const x=ne(`${new RegExp(ue(o))};`),g=`Object.getOwnPropertyNames(${s}).every(key => ${x}.test(key))`;yield`(${F} && ${g})`}else if(w(o.unevaluatedProperties)){const x=ne(`${new RegExp(ue(o))};`),g=`Object.getOwnPropertyNames(${s}).every(key => ${x}.test(key) || ${gn(o.unevaluatedProperties,y,`${s}[key]`)})`;yield`(${F} && ${g})`}else yield`(${F})`}function*Oi(o,y,s){yield`(typeof value === 'object' && Symbol.iterator in ${s})`}function*Pi(o,y,s){typeof o.const=="number"||typeof o.const=="boolean"?yield`(${s} === ${o.const})`:yield`(${s} === '${gt.Escape(o.const)}')`}function*wi(o,y,s){yield"false"}function*Mi(o,y,s){yield`(!${gn(o.not,y,s)})`}function*Ri(o,y,s){yield`(${s} === null)`}function*Ni(o,y,s){yield Wn.IsNumberLike(s),b(o.exclusiveMaximum)&&(yield`${s} < ${o.exclusiveMaximum}`),b(o.exclusiveMinimum)&&(yield`${s} > ${o.exclusiveMinimum}`),b(o.maximum)&&(yield`${s} <= ${o.maximum}`),b(o.minimum)&&(yield`${s} >= ${o.minimum}`),b(o.multipleOf)&&(yield`(${s} % ${o.multipleOf}) === 0`)}function*Ai(o,y,s){yield Wn.IsObjectLike(s),b(o.minProperties)&&(yield`Object.getOwnPropertyNames(${s}).length >= ${o.minProperties}`),b(o.maxProperties)&&(yield`Object.getOwnPropertyNames(${s}).length <= ${o.maxProperties}`);const F=Object.getOwnPropertyNames(o.properties);for(const x of F){const g=We.Encode(s,x),L=o.properties[x];if(o.required&&o.required.includes(x))yield*xe(L,y,g),(ae(L)||e(L))&&(yield`('${x}' in ${s})`);else{const on=gn(L,y,g);yield Wn.IsExactOptionalProperty(s,x,on)}}if(o.additionalProperties===!1)if(o.required&&o.required.length===F.length)yield`Object.getOwnPropertyNames(${s}).length === ${F.length}`;else{const x=`[${F.map(g=>`'${g}'`).join(", ")}]`;yield`Object.getOwnPropertyNames(${s}).every(key => ${x}.includes(key))`}if(typeof o.additionalProperties=="object"){const x=gn(o.additionalProperties,y,`${s}[key]`),g=`[${F.map(L=>`'${L}'`).join(", ")}]`;yield`(Object.getOwnPropertyNames(${s}).every(key => ${g}.includes(key) || ${x}))`}}function*ji(o,y,s){yield`(typeof value === 'object' && typeof ${s}.then === 'function')`}function*Ui(o,y,s){yield Wn.IsRecordLike(s),b(o.minProperties)&&(yield`Object.getOwnPropertyNames(${s}).length >= ${o.minProperties}`),b(o.maxProperties)&&(yield`Object.getOwnPropertyNames(${s}).length <= ${o.maxProperties}`);const[F,x]=Object.entries(o.patternProperties)[0],g=ne(`${new RegExp(F)}`),L=gn(x,y,"value"),on=w(o.additionalProperties)?gn(o.additionalProperties,y,s):o.additionalProperties===!1?"false":"true",Sn=`(${g}.test(key) ? ${L} : ${on})`;yield`(Object.entries(${s}).every(([key, value]) => ${Sn}))`}function*Li(o,y,s){const F=Mn(o,y);if(h.functions.has(o.$ref))return yield`${Be(o.$ref)}(${s})`;yield*xe(F,y,s)}function*ki(o,y,s){const F=ne(`${new RegExp(o.source,o.flags)};`);yield`(typeof ${s} === 'string')`,b(o.maxLength)&&(yield`${s}.length <= ${o.maxLength}`),b(o.minLength)&&(yield`${s}.length >= ${o.minLength}`),yield`${F}.test(${s})`}function*Ci(o,y,s){yield`(typeof ${s} === 'string')`,b(o.maxLength)&&(yield`${s}.length <= ${o.maxLength}`),b(o.minLength)&&(yield`${s}.length >= ${o.minLength}`),o.pattern!==void 0&&(yield`${ne(`${new RegExp(o.pattern)};`)}.test(${s})`),o.format!==void 0&&(yield`format('${o.format}', ${s})`)}function*Si(o,y,s){yield`(typeof ${s} === 'symbol')`}function*Ei(o,y,s){yield`(typeof ${s} === 'string')`,yield`${ne(`${new RegExp(o.pattern)};`)}.test(${s})`}function*Bi(o,y,s){yield`${Be(o.$ref)}(${s})`}function*Di(o,y,s){if(yield`Array.isArray(${s})`,o.items===void 0)return yield`${s}.length === 0`;yield`(${s}.length === ${o.maxItems})`;for(let F=0;F<o.items.length;F++)yield`${gn(o.items[F],y,`${s}[${F}]`)}`}function*qi(o,y,s){yield`${s} === undefined`}function*Ti(o,y,s){yield`(${o.anyOf.map(x=>gn(x,y,s)).join(" || ")})`}function*_i(o,y,s){yield`${s} instanceof Uint8Array`,b(o.maxByteLength)&&(yield`(${s}.length <= ${o.maxByteLength})`),b(o.minByteLength)&&(yield`(${s}.length >= ${o.minByteLength})`)}function*Ki(o,y,s){yield"true"}function*Gi(o,y,s){yield Wn.IsVoidLike(s)}function*zi(o,y,s){const F=h.instances.size;h.instances.set(F,o),yield`kind('${o[a]}', ${F}, ${s})`}function*xe(o,y,s,F=!0){const x=cn(o.$id)?[...y,o]:y,g=o;if(F&&cn(o.$id)){const L=Be(o.$id);if(h.functions.has(L))return yield`${L}(${s})`;{const on=Zt(L,o,y,"value",!1);return h.functions.set(L,on),yield`${L}(${s})`}}switch(g[a]){case"Any":return yield*t();case"Array":return yield*r(g,x,s);case"AsyncIterator":return yield*i(g,x,s);case"BigInt":return yield*u(g,x,s);case"Boolean":return yield*f(g,x,s);case"Constructor":return yield*d(g,x,s);case"Date":return yield*l(g,x,s);case"Function":return yield*$(g,x,s);case"Integer":return yield*E(g,x,s);case"Intersect":return yield*bi(g,x,s);case"Iterator":return yield*Oi(g,x,s);case"Literal":return yield*Pi(g,x,s);case"Never":return yield*wi();case"Not":return yield*Mi(g,x,s);case"Null":return yield*Ri(g,x,s);case"Number":return yield*Ni(g,x,s);case"Object":return yield*Ai(g,x,s);case"Promise":return yield*ji(g,x,s);case"Record":return yield*Ui(g,x,s);case"Ref":return yield*Li(g,x,s);case"RegExp":return yield*ki(g,x,s);case"String":return yield*Ci(g,x,s);case"Symbol":return yield*Si(g,x,s);case"TemplateLiteral":return yield*Ei(g,x,s);case"This":return yield*Bi(g,x,s);case"Tuple":return yield*Di(g,x,s);case"Undefined":return yield*qi(g,x,s);case"Union":return yield*Ti(g,x,s);case"Uint8Array":return yield*_i(g,x,s);case"Unknown":return yield*Ki();case"Void":return yield*Gi(g,x,s);default:if(!ie(g[a]))throw new rp(o);return yield*zi(g,x,s)}}const h={language:"javascript",functions:new Map,variables:new Map,instances:new Map};function gn(o,y,s,F=!0){return`(${[...xe(o,y,s,F)].join(" && ")})`}function Be(o){return`check_${xt.Encode(o)}`}function ne(o){const y=`local_${h.variables.size}`;return h.variables.set(y,`const ${y} = ${o}`),y}function Zt(o,y,s,F,x=!0){const[g,L]=[`
`,Rn=>"".padStart(Rn," ")],on=De("value","any"),Sn=Vt("boolean"),In=[...xe(y,s,F,x)].map(Rn=>`${L(4)}${Rn}`).join(` &&${g}`);return`function ${o}(${on})${Sn} {${g}${L(2)}return (${g}${In}${g}${L(2)})
}`}function De(o,y){const s=h.language==="typescript"?`: ${y}`:"";return`${o}${s}`}function Vt(o){return h.language==="typescript"?`: ${o}`:""}function Hi(o,y,s){const F=Zt("check",o,y,"value"),x=De("value","any"),g=Vt("boolean"),L=[...h.functions.values()],on=[...h.variables.values()],Sn=cn(o.$id)?`return function check(${x})${g} {
  return ${Be(o.$id)}(value)
}`:`return ${F}`;return[...on,...L,Sn].join(`
`)}function ht(...o){const y={language:"javascript"},[s,F,x]=o.length===2&&sn(o[1])?[o[0],o[1],y]:o.length===2&&!sn(o[1])?[o[0],[],o[1]]:o.length===3?[o[0],o[1],o[2]]:o.length===1?[o[0],[],y]:[null,[],y];if(h.language=x.language,h.variables.clear(),h.functions.clear(),h.instances.clear(),!w(s))throw new dr(s);for(const g of F)if(!w(g))throw new dr(g);return Hi(s,F)}n.Code=ht;function Ji(o,y=[]){const s=ht(o,y,{language:"javascript"}),F=globalThis.Function("kind","format","hash",s),x=new Map(h.instances);function g(In,Rn,qe){if(!ie(In)||!x.has(Rn))return!1;const Wi=At(In),Yi=x.get(Rn);return Wi(Yi,qe)}function L(In,Rn){return ve(In)?Rt(In)(Rn):!1}function on(In){return Yt(In)}const Sn=F(g,L,on);return new tp(o,y,Sn,s)}n.Compile=Ji})(_n||(_n={}));const ip=z({type:D("insert"),path:Gn(),value:ke()}),op=z({type:D("update"),path:Gn(),value:ke()}),up=z({type:D("delete"),path:Gn()});rn([ip,op,up]);function Qt(...n){return Me.apply(Me,n)}function sp(...n){const[e,t,r]=n.length===3?[n[0],n[1],n[2]]:[n[0],[],n[1]];if(!Qt(e,t,r))throw new $i(e,r,Xt(e,t,r).First());return xi(e,t,r)}function cp(...n){const[e,t,r]=n.length===3?[n[0],n[1],n[2]]:[n[0],[],n[1]],i=Ii(e,t,r);if(!Qt(e,t,i))throw new gi(e,r,Xt(e,t,r).First());return i}function Xt(...n){return lt.apply(lt,n)}const Ke=(n,e)=>n==null?[e]:[n,e];var It;(n=>{n.Code=_n.Code,n.Compile=(...e)=>{if(typeof navigator=="object"&&navigator.userAgent==="Cloudflare-Workers"){const[t,r]=e;return{Check:i=>Qt(t,...Ke(r,i)),Code:()=>r==null?_n.Code(t):_n.Code(t,r),Decode:i=>sp(t,...Ke(r,i)),Encode:i=>cp(t,...Ke(r,i)),Errors:i=>Xt(t,...Ke(r,i)),schema:t,references:r,get code(){return r==null?_n.Code(t):_n.Code(t,r)},checkFunc:void 0,hasTransform:void 0}}return _n.Compile(...e)}})(It||(It={}));var Fi=(n=>(n.Facebook="facebook",n.Google="google",n))(Fi||{}),Ft;(n=>{n.state=_e.Object({origin:_e.String({minLength:1}),redirect:_e.String({minLength:1}),service:_e.Enum(Fi)})})(Ft||(Ft={}));var bt;(n=>{n.state=It.Compile(Ft.state)})(bt||(bt={}));var fp=(n=>(n.INVALID_CALL="invalid_call",n.INVALID_TOKEN="invalid_token",n.EMPTY_HASH="empty_hash",n.OK="ok",n))(fp||{});const pp=n=>{if(n==null||n=="")return null;const e=new URLSearchParams(n.replace(/^#/,"?")),t=e.get("access_token"),r=e.get("state");if(t==null||t==""||r==null||r=="")return{status:"invalid_token"};try{const i=JSON.parse(atob(r));if(bt.state.Check(i))return{...i,status:"ok",token:t}}catch{}return{status:"invalid_token"}};export{Gf as D,Xt as E,fp as S,_e as T,c as V,It as a,Fi as b,go as c,dp as d,pp as g};
