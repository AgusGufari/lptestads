import{r as m,R as p}from"./jsx-runtime-ByGpHSPZ.js";import{n as st,G as at,H as lt,f as T,u as P,B as M,r as ue,q as qe,a as Ee,c as Oe,d as ct,l as it,m as Ce,e as Ve}from"./factory-CAXpoK4s.js";import{g as dt}from"./get-default-z-index-CUjKoHex.js";import{u as ut}from"./DirectionProvider-CZrhDgZ9.js";import{n as pt,u as mt,l as ft,o as bt,s as gt,f as ht,i as wt,b as vt,p as yt,q as xt,m as Ct}from"./use-floating-auto-update-DnPUizLK.js";import{c as He}from"./create-safe-context-jSuPt_P6.js";import{u as Et,F as Ot,C as St}from"./CloseButton-DYsjEncr.js";import{O as Pt}from"./OptionalPortal-BEqzClLW.js";import{T as Nt}from"./Transition-DnEPvxi8.js";import{u as le}from"./use-merged-ref-BJm5sttg.js";import{i as me}from"./is-element-CI8e1h0p.js";import{u as pe}from"./use-uncontrolled-DgPl9ViR.js";import{a as Be}from"./use-reduced-motion-yJY9mgkS.js";import{u as Se}from"./use-id-CBFaeZXz.js";import{a as Dt,I as Me}from"./InputBase-SQZWneMs.js";import{S as At}from"./ScrollArea-BeLeXkg2.js";const Tt=()=>{};function It(e,t={active:!0}){return typeof e!="function"||!t.active?t.onKeyDown||Tt:o=>{var n;o.key==="Escape"&&(e(o),(n=t.onTrigger)==null||n.call(t))}}const Ke=["mousedown","touchstart"];function kt(e,t,o){const n=m.useRef();return m.useEffect(()=>{const l=c=>{const{target:r}=c??{};if(Array.isArray(o)){const a=(r==null?void 0:r.hasAttribute("data-ignore-outside-clicks"))||!document.body.contains(r)&&r.tagName!=="HTML";o.every(d=>!!d&&!c.composedPath().includes(d))&&!a&&e()}else n.current&&!n.current.contains(r)&&e()};return(t||Ke).forEach(c=>document.addEventListener(c,l)),()=>{(t||Ke).forEach(c=>document.removeEventListener(c,l))}},[n,e,o]),n}function Rt({classNames:e,styles:t,props:o,stylesCtx:n}){const l=st();return{resolvedClassNames:at({theme:l,classNames:e,props:o,stylesCtx:n||void 0}),resolvedStyles:lt({theme:l,styles:t,props:o,stylesCtx:n||void 0})}}const[Ft,Ge]=He("Popover component was not found in the tree");var $t={dropdown:"m-38a85659",arrow:"m-a31dc6c1"};const Ue=$t,_t={},Pe=T((e,t)=>{var E,v,O,y;const o=P("PopoverDropdown",_t,e),{className:n,style:l,vars:c,children:r,onKeyDownCapture:a,variant:i,classNames:d,styles:f,...u}=o,s=Ge(),g=Et({opened:s.opened,shouldReturnFocus:s.returnFocus}),N=s.withRoles?{"aria-labelledby":s.getTargetId(),id:s.getDropdownId(),role:"dialog",tabIndex:-1}:{},A=le(t,s.floating);return s.disabled?null:p.createElement(Pt,{...s.portalProps,withinPortal:s.withinPortal},p.createElement(Nt,{mounted:s.opened,...s.transitionProps,transition:((E=s.transitionProps)==null?void 0:E.transition)||"fade",duration:((v=s.transitionProps)==null?void 0:v.duration)??150,keepMounted:s.keepMounted,exitDuration:typeof((O=s.transitionProps)==null?void 0:O.exitDuration)=="number"?s.transitionProps.exitDuration:(y=s.transitionProps)==null?void 0:y.duration},h=>p.createElement(Ot,{active:s.trapFocus},p.createElement(M,{...N,...u,variant:i,ref:A,onKeyDownCapture:It(s.onClose,{active:s.closeOnEscape,onTrigger:g,onKeyDown:a}),"data-position":s.placement,...s.getStyles("dropdown",{className:n,props:o,classNames:d,styles:f,style:[{...h,zIndex:s.zIndex,top:s.y??0,left:s.x??0,width:s.width==="target"?void 0:ue(s.width)},l]})},r,p.createElement(pt,{ref:s.arrowRef,arrowX:s.arrowX,arrowY:s.arrowY,visible:s.withArrow,position:s.placement,arrowSize:s.arrowSize,arrowRadius:s.arrowRadius,arrowOffset:s.arrowOffset,arrowPosition:s.arrowPosition,...s.getStyles("arrow",{props:o,classNames:d,styles:f})})))))});Pe.classes=Ue;Pe.displayName="@mantine/core/PopoverDropdown";const zt={refProp:"ref",popupType:"dialog"},Xe=T((e,t)=>{const{children:o,refProp:n,popupType:l,...c}=P("PopoverTarget",zt,e);if(!me(o))throw new Error("Popover.Target component children should be an element or a component that accepts ref. Fragments, strings, numbers and other primitive values are not supported");const r=c,a=Ge(),i=le(a.reference,o.ref,t),d=a.withRoles?{"aria-haspopup":l,"aria-expanded":a.opened,"aria-controls":a.getDropdownId(),id:a.getTargetId()}:{};return m.cloneElement(o,{...r,...d,...a.targetProps,className:qe(a.targetProps.className,r.className,o.props.className),[n]:i,...a.controlled?null:{onClick:a.onToggle}})});Xe.displayName="@mantine/core/PopoverTarget";function Lt(e,t){var n,l,c,r;const o=[bt(e.offset)];return(n=e.middlewares)!=null&&n.shift&&o.push(gt({limiter:xt()})),(l=e.middlewares)!=null&&l.flip&&o.push(ht()),(c=e.middlewares)!=null&&c.inline&&o.push(wt()),o.push(vt({element:e.arrowRef,padding:e.arrowOffset})),((r=e.middlewares)!=null&&r.size||e.width==="target")&&o.push(yt({apply({rects:a,availableWidth:i,availableHeight:d}){var s,g;const u=((s=t().refs.floating.current)==null?void 0:s.style)??{};(g=e.middlewares)!=null&&g.size&&Object.assign(u,{maxWidth:`${i}px`,maxHeight:`${d}px`}),e.width==="target"&&Object.assign(u,{width:`${a.reference.width}px`})}})),o}function Vt(e){const[t,o]=pe({value:e.opened,defaultValue:e.defaultOpened,finalValue:!1,onChange:e.onChange}),n=()=>{var r;t&&((r=e.onClose)==null||r.call(e),o(!1))},l=()=>{var r,a;t?((r=e.onClose)==null||r.call(e),o(!1)):((a=e.onOpen)==null||a.call(e),o(!0))},c=mt({strategy:e.strategy,placement:e.position,middleware:Lt(e,()=>c)});return ft({opened:e.opened,position:e.position,positionDependencies:e.positionDependencies||[],floating:c}),Be(()=>{var r;(r=e.onPositionChange)==null||r.call(e,c.placement)},[c.placement]),Be(()=>{var r,a;e.opened?(a=e.onOpen)==null||a.call(e):(r=e.onClose)==null||r.call(e)},[e.opened]),{floating:c,controlled:typeof e.opened=="boolean",opened:t,onClose:n,onToggle:l}}const Bt={position:"bottom",offset:8,positionDependencies:[],transitionProps:{transition:"fade",duration:150},middlewares:{flip:!0,shift:!0,inline:!1},arrowSize:7,arrowOffset:5,arrowRadius:0,arrowPosition:"side",closeOnClickOutside:!0,withinPortal:!0,closeOnEscape:!0,trapFocus:!1,withRoles:!0,returnFocus:!1,clickOutsideEvents:["mousedown","touchstart"],zIndex:dt("popover"),__staticSelector:"Popover",width:"max-content"},Kt=Oe((e,{radius:t,shadow:o})=>({dropdown:{"--popover-radius":t===void 0?void 0:ct(t),"--popover-shadow":it(o)}}));function G(e){var ne,L,Y,V,I,se;const t=P("Popover",Bt,e),{children:o,position:n,offset:l,onPositionChange:c,positionDependencies:r,opened:a,transitionProps:i,width:d,middlewares:f,withArrow:u,arrowSize:s,arrowOffset:g,arrowRadius:N,arrowPosition:A,unstyled:E,classNames:v,styles:O,closeOnClickOutside:y,withinPortal:h,portalProps:_,closeOnEscape:K,clickOutsideEvents:Z,trapFocus:j,onClose:W,onOpen:J,onChange:q,zIndex:R,radius:Q,shadow:ee,id:te,defaultOpened:b,__staticSelector:S,withRoles:x,disabled:D,returnFocus:U,variant:oe,keepMounted:fe,vars:ce,floatingStrategy:be,...ge}=t,he=Ee({name:S,props:t,classes:Ue,classNames:v,styles:O,unstyled:E,rootSelector:"dropdown",vars:ce,varsResolver:Kt}),ie=m.useRef(null),[we,ve]=m.useState(null),[re,ye]=m.useState(null),{dir:xe}=ut(),X=Se(te),C=Vt({middlewares:f,width:d,position:Ct(xe,n),offset:typeof l=="number"?l+(u?s/2:0):l,arrowRef:ie,arrowOffset:g,onPositionChange:c,positionDependencies:r,opened:a,defaultOpened:b,onChange:q,onOpen:J,onClose:W,strategy:be});kt(()=>y&&C.onClose(),Z,[we,re]);const de=m.useCallback(H=>{ve(H),C.floating.refs.setReference(H)},[C.floating.refs.setReference]),z=m.useCallback(H=>{ye(H),C.floating.refs.setFloating(H)},[C.floating.refs.setFloating]);return p.createElement(Ft,{value:{returnFocus:U,disabled:D,controlled:C.controlled,reference:de,floating:z,x:C.floating.x,y:C.floating.y,arrowX:(Y=(L=(ne=C.floating)==null?void 0:ne.middlewareData)==null?void 0:L.arrow)==null?void 0:Y.x,arrowY:(se=(I=(V=C.floating)==null?void 0:V.middlewareData)==null?void 0:I.arrow)==null?void 0:se.y,opened:C.opened,arrowRef:ie,transitionProps:i,width:d,withArrow:u,arrowSize:s,arrowOffset:g,arrowRadius:N,arrowPosition:A,placement:C.floating.placement,trapFocus:j,withinPortal:h,portalProps:_,zIndex:R,radius:Q,shadow:ee,closeOnEscape:K,onClose:C.onClose,onToggle:C.onToggle,getTargetId:()=>`${X}-target`,getDropdownId:()=>`${X}-dropdown`,withRoles:x,targetProps:ge,__staticSelector:S,classNames:v,styles:O,unstyled:E,variant:oe,keepMounted:fe,getStyles:he}},o)}G.Target=Xe;G.Dropdown=Pe;G.displayName="@mantine/core/Popover";G.extend=e=>e;function Ye(e){return typeof e=="string"?{value:e,label:e}:"value"in e&&!("label"in e)?{value:e.value,label:e.value,disabled:e.disabled}:typeof e=="number"?{value:e.toString(),label:e.toString()}:"group"in e?{group:e.group,items:e.items.map(t=>Ye(t))}:e}function qt(e){return e?e.map(t=>Ye(t)):[]}function Ze(e){return e.reduce((t,o)=>"group"in o?{...t,...Ze(o.items)}:(t[o.value]=o,t),{})}var Ht={dropdown:"m-88b62a41",options:"m-b2821a6e",option:"m-92253aa5",search:"m-985517d8",empty:"m-2530cd1d",header:"m-858f94bd",footer:"m-82b967cb",group:"m-254f3e4f",groupLabel:"m-2bb2e9e5",chevron:"m-2943220b",optionsDropdownOption:"m-390b5f4",optionsDropdownCheckIcon:"m-8ee53fc2"};const k=Ht,Mt={error:null},Gt=Oe((e,{size:t})=>({chevron:{"--combobox-chevron-size":Ce(t,"combobox-chevron-size")}})),Ne=T((e,t)=>{const o=P("ComboboxChevron",Mt,e),{size:n,error:l,style:c,className:r,classNames:a,styles:i,unstyled:d,vars:f,mod:u,...s}=o,g=Ee({name:"ComboboxChevron",classes:k,props:o,style:c,className:r,classNames:a,styles:i,unstyled:d,vars:f,varsResolver:Gt,rootSelector:"chevron"});return p.createElement(M,{component:"svg",...s,...g("chevron"),size:n,viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",mod:["combobox-chevron",{error:l},u],ref:t},p.createElement("path",{d:"M4.93179 5.43179C4.75605 5.60753 4.75605 5.89245 4.93179 6.06819C5.10753 6.24392 5.39245 6.24392 5.56819 6.06819L7.49999 4.13638L9.43179 6.06819C9.60753 6.24392 9.89245 6.24392 10.0682 6.06819C10.2439 5.89245 10.2439 5.60753 10.0682 5.43179L7.81819 3.18179C7.73379 3.0974 7.61933 3.04999 7.49999 3.04999C7.38064 3.04999 7.26618 3.0974 7.18179 3.18179L4.93179 5.43179ZM10.0682 9.56819C10.2439 9.39245 10.2439 9.10753 10.0682 8.93179C9.89245 8.75606 9.60753 8.75606 9.43179 8.93179L7.49999 10.8636L5.56819 8.93179C5.39245 8.75606 5.10753 8.75606 4.93179 8.93179C4.75605 9.10753 4.75605 9.39245 4.93179 9.56819L7.18179 11.8182C7.35753 11.9939 7.64245 11.9939 7.81819 11.8182L10.0682 9.56819Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"}))});Ne.classes=k;Ne.displayName="@mantine/core/ComboboxChevron";const[Ut,$]=He("Combobox component was not found in tree"),je=m.forwardRef(({size:e,onMouseDown:t,onClick:o,onClear:n,...l},c)=>p.createElement(St,{ref:c,size:e||"sm",variant:"transparent",tabIndex:-1,"aria-hidden":!0,...l,onMouseDown:r=>{r.preventDefault(),t==null||t(r)},onClick:r=>{n(),o==null||o(r)}}));je.displayName="@mantine/core/ComboboxClearButton";const Xt={},De=T((e,t)=>{const{classNames:o,styles:n,className:l,style:c,hidden:r,...a}=P("ComboboxDropdown",Xt,e),i=$();return p.createElement(G.Dropdown,{...a,ref:t,role:"presentation","data-hidden":r||void 0,...i.getStyles("dropdown",{className:l,style:c,classNames:o,styles:n})})});De.classes=k;De.displayName="@mantine/core/ComboboxDropdown";const Yt={refProp:"ref"},We=T((e,t)=>{const{children:o,refProp:n}=P("ComboboxDropdownTarget",Yt,e);if($(),!me(o))throw new Error("Combobox.DropdownTarget component children should be an element or a component that accepts ref. Fragments, strings, numbers and other primitive values are not supported");return p.createElement(G.Target,{ref:t,refProp:n},o)});We.displayName="@mantine/core/ComboboxDropdownTarget";const Zt={},Ae=T((e,t)=>{const{classNames:o,className:n,style:l,styles:c,vars:r,...a}=P("ComboboxEmpty",Zt,e),i=$();return p.createElement(M,{ref:t,...i.getStyles("empty",{className:n,classNames:o,styles:c,style:l}),...a})});Ae.classes=k;Ae.displayName="@mantine/core/ComboboxEmpty";function Te({onKeyDown:e,withKeyboardNavigation:t,withAriaAttributes:o,withExpandedAttribute:n,targetType:l,autoComplete:c}){const r=$(),[a,i]=m.useState(null),d=u=>{if(e==null||e(u),!r.readOnly&&t){if(u.nativeEvent.code==="ArrowDown"&&(u.preventDefault(),r.store.dropdownOpened?i(r.store.selectNextOption()):(r.store.openDropdown("keyboard"),i(r.store.selectActiveOption()))),u.nativeEvent.code==="ArrowUp"&&(u.preventDefault(),r.store.dropdownOpened?i(r.store.selectPreviousOption()):(r.store.openDropdown("keyboard"),i(r.store.selectActiveOption()))),u.nativeEvent.code==="Enter"||u.nativeEvent.code==="NumpadEnter"){const s=r.store.getSelectedOptionIndex();r.store.dropdownOpened&&s!==-1?(u.preventDefault(),r.store.clickSelectedOption()):l==="button"&&(u.preventDefault(),r.store.openDropdown("keyboard"))}u.nativeEvent.code==="Escape"&&r.store.closeDropdown("keyboard"),u.nativeEvent.code==="Space"&&l==="button"&&(u.preventDefault(),r.store.toggleDropdown("keyboard"))}};return{...o?{"aria-haspopup":"listbox","aria-expanded":n&&!!(r.store.listId&&r.store.dropdownOpened)||void 0,"aria-controls":r.store.listId,"aria-activedescendant":r.store.dropdownOpened&&a||void 0,autoComplete:c,"data-expanded":r.store.dropdownOpened||void 0,"data-mantine-stop-propagation":r.store.dropdownOpened||void 0}:{},onKeyDown:d}}const jt={refProp:"ref",targetType:"input",withKeyboardNavigation:!0,withAriaAttributes:!0,withExpandedAttribute:!1,autoComplete:"off"},Je=T((e,t)=>{const{children:o,refProp:n,withKeyboardNavigation:l,withAriaAttributes:c,withExpandedAttribute:r,targetType:a,autoComplete:i,...d}=P("ComboboxEventsTarget",jt,e);if(!me(o))throw new Error("Combobox.EventsTarget component children should be an element or a component that accepts ref. Fragments, strings, numbers and other primitive values are not supported");const f=$(),u=Te({targetType:a,withAriaAttributes:c,withKeyboardNavigation:l,withExpandedAttribute:r,onKeyDown:o.props.onKeyDown,autoComplete:i});return m.cloneElement(o,{...u,...d,[n]:le(t,f.store.targetRef,o==null?void 0:o.ref)})});Je.displayName="@mantine/core/ComboboxEventsTarget";const Wt={},Ie=T((e,t)=>{const{classNames:o,className:n,style:l,styles:c,vars:r,...a}=P("ComboboxFooter",Wt,e),i=$();return p.createElement(M,{ref:t,...i.getStyles("footer",{className:n,classNames:o,style:l,styles:c}),...a})});Ie.classes=k;Ie.displayName="@mantine/core/ComboboxFooter";const Jt={},ke=T((e,t)=>{const{classNames:o,className:n,style:l,styles:c,vars:r,children:a,label:i,...d}=P("ComboboxGroup",Jt,e),f=$();return p.createElement(M,{ref:t,...f.getStyles("group",{className:n,classNames:o,style:l,styles:c}),...d},i&&p.createElement("div",{...f.getStyles("groupLabel",{classNames:o,styles:c})},i),a)});ke.classes=k;ke.displayName="@mantine/core/ComboboxGroup";const Qt={},Re=T((e,t)=>{const{classNames:o,className:n,style:l,styles:c,vars:r,...a}=P("ComboboxHeader",Qt,e),i=$();return p.createElement(M,{ref:t,...i.getStyles("header",{className:n,classNames:o,style:l,styles:c}),...a})});Re.classes=k;Re.displayName="@mantine/core/ComboboxHeader";const eo={},Fe=T((e,t)=>{const o=P("ComboboxOption",eo,e),{classNames:n,className:l,style:c,styles:r,vars:a,onClick:i,id:d,active:f,onMouseDown:u,onMouseOver:s,disabled:g,selected:N,mod:A,...E}=o,v=$(),O=m.useId(),y=d||O;return p.createElement(M,{...v.getStyles("option",{className:l,classNames:n,styles:r,style:c}),...E,ref:t,id:y,mod:["combobox-option",{"combobox-active":f,"combobox-disabled":g,"combobox-selected":N},A],role:"option",onClick:h=>{var _;g?h.preventDefault():((_=v.onOptionSubmit)==null||_.call(v,o.value,o),i==null||i(h))},onMouseDown:h=>{h.preventDefault(),u==null||u(h)},onMouseOver:h=>{v.resetSelectionOnOptionHover&&v.store.resetSelectedOption(),s==null||s(h)}})});Fe.classes=k;Fe.displayName="@mantine/core/ComboboxOption";const to={},$e=T((e,t)=>{const o=P("ComboboxOptions",to,e),{classNames:n,className:l,style:c,styles:r,id:a,onMouseDown:i,labelledBy:d,...f}=o,u=$(),s=Se(a);return m.useEffect(()=>{u.store.setListId(s)},[s]),p.createElement(M,{ref:t,...u.getStyles("options",{className:l,style:c,classNames:n,styles:r}),...f,id:s,role:"listbox","aria-labelledby":d,onMouseDown:g=>{g.preventDefault(),i==null||i(g)}})});$e.classes=k;$e.displayName="@mantine/core/ComboboxOptions";const oo={withAriaAttributes:!0,withKeyboardNavigation:!0},_e=T((e,t)=>{const o=P("ComboboxSearch",oo,e),{classNames:n,styles:l,unstyled:c,vars:r,withAriaAttributes:a,onKeyDown:i,withKeyboardNavigation:d,size:f,...u}=o,s=$(),g=s.getStyles("search"),N=Te({targetType:"input",withAriaAttributes:a,withKeyboardNavigation:d,withExpandedAttribute:!1,onKeyDown:i,autoComplete:"off"});return p.createElement(Dt,{ref:le(t,s.store.searchRef),classNames:[{input:g.className},n],styles:[{input:g.style},l],size:f||s.size,...N,...u,__staticSelector:"Combobox"})});_e.classes=k;_e.displayName="@mantine/core/ComboboxSearch";const ro={refProp:"ref",targetType:"input",withKeyboardNavigation:!0,withAriaAttributes:!0,withExpandedAttribute:!1,autoComplete:"off"},Qe=T((e,t)=>{const{children:o,refProp:n,withKeyboardNavigation:l,withAriaAttributes:c,withExpandedAttribute:r,targetType:a,autoComplete:i,...d}=P("ComboboxTarget",ro,e);if(!me(o))throw new Error("Combobox.Target component children should be an element or a component that accepts ref. Fragments, strings, numbers and other primitive values are not supported");const f=$(),u=Te({targetType:a,withAriaAttributes:c,withKeyboardNavigation:l,withExpandedAttribute:r,onKeyDown:o.props.onKeyDown,autoComplete:i}),s=m.cloneElement(o,{...u,...d});return p.createElement(G.Target,{ref:le(t,f.store.targetRef)},s)});Qe.displayName="@mantine/core/ComboboxTarget";function no(e,t,o){for(let n=e-1;n>=0;n-=1)if(!t[n].hasAttribute("data-combobox-disabled"))return n;if(o){for(let n=t.length-1;n>-1;n-=1)if(!t[n].hasAttribute("data-combobox-disabled"))return n}return e}function so(e,t,o){for(let n=e+1;n<t.length;n+=1)if(!t[n].hasAttribute("data-combobox-disabled"))return n;if(o){for(let n=0;n<t.length;n+=1)if(!t[n].hasAttribute("data-combobox-disabled"))return n}return e}function ao(e){for(let t=0;t<e.length;t+=1)if(!e[t].hasAttribute("data-combobox-disabled"))return t;return-1}function et({defaultOpened:e,opened:t,onOpenedChange:o,onDropdownClose:n,onDropdownOpen:l,loop:c=!0,scrollBehavior:r="instant"}={}){const[a,i]=pe({value:t,defaultValue:e,finalValue:!1,onChange:o}),d=m.useRef(null),f=m.useRef(-1),u=m.useRef(null),s=m.useRef(null),g=m.useRef(-1),N=m.useRef(-1),A=m.useRef(-1),E=m.useCallback((b="unknown")=>{a||(i(!0),l==null||l(b))},[i,l,a]),v=m.useCallback((b="unknown")=>{a&&(i(!1),n==null||n(b))},[i,n,a]),O=m.useCallback((b="unknown")=>{a?v(b):E(b)},[v,E,a]),y=m.useCallback(()=>{const b=document.querySelector(`#${d.current} [data-combobox-selected]`);b==null||b.removeAttribute("data-combobox-selected"),b==null||b.removeAttribute("aria-selected")},[]),h=m.useCallback(b=>{const S=document.getElementById(d.current),x=S==null?void 0:S.querySelectorAll("[data-combobox-option]");if(!x)return null;const D=b>=x.length?0:b<0?x.length-1:b;return f.current=D,x!=null&&x[D]&&!x[D].hasAttribute("data-combobox-disabled")?(y(),x[D].setAttribute("data-combobox-selected","true"),x[D].setAttribute("aria-selected","true"),x[D].scrollIntoView({block:"nearest",behavior:r}),x[D].id):null},[r,y]),_=m.useCallback(()=>{const b=document.querySelector(`#${d.current} [data-combobox-active]`);if(b){const S=document.querySelectorAll(`#${d.current} [data-combobox-option]`),x=Array.from(S).findIndex(D=>D===b);return h(x)}return h(0)},[h]),K=m.useCallback(()=>h(so(f.current,document.querySelectorAll(`#${d.current} [data-combobox-option]`),c)),[h,c]),Z=m.useCallback(()=>h(no(f.current,document.querySelectorAll(`#${d.current} [data-combobox-option]`),c)),[h,c]),j=m.useCallback(()=>h(ao(document.querySelectorAll(`#${d.current} [data-combobox-option]`))),[h]),W=m.useCallback((b="selected",S)=>{A.current=window.setTimeout(()=>{var U;const x=document.querySelectorAll(`#${d.current} [data-combobox-option]`),D=Array.from(x).findIndex(oe=>oe.hasAttribute(`data-combobox-${b}`));f.current=D,S!=null&&S.scrollIntoView&&((U=x[D])==null||U.scrollIntoView({block:"nearest",behavior:r}))},0)},[]),J=m.useCallback(()=>{f.current=-1,y()},[y]),q=m.useCallback(()=>{const b=document.querySelectorAll(`#${d.current} [data-combobox-option]`),S=b==null?void 0:b[f.current];S==null||S.click()},[]),R=m.useCallback(b=>{d.current=b},[]),Q=m.useCallback(()=>{g.current=window.setTimeout(()=>u.current.focus(),0)},[]),ee=m.useCallback(()=>{N.current=window.setTimeout(()=>s.current.focus(),0)},[]),te=m.useCallback(()=>f.current,[]);return m.useEffect(()=>()=>{window.clearTimeout(g.current),window.clearTimeout(N.current),window.clearTimeout(A.current)},[]),{dropdownOpened:a,openDropdown:E,closeDropdown:v,toggleDropdown:O,selectedOptionIndex:f.current,getSelectedOptionIndex:te,selectOption:h,selectFirstOption:j,selectActiveOption:_,selectNextOption:K,selectPreviousOption:Z,resetSelectedOption:J,updateSelectedOptionIndex:W,listId:d.current,setListId:R,clickSelectedOption:q,searchRef:u,focusSearchInput:Q,targetRef:s,focusTarget:ee}}const lo={keepMounted:!0,withinPortal:!0,resetSelectionOnOptionHover:!1,width:"target",transitionProps:{transition:"fade",duration:0}},co=Oe((e,{size:t,dropdownPadding:o})=>({options:{"--combobox-option-fz":Ve(t),"--combobox-option-padding":Ce(t,"combobox-option-padding")},dropdown:{"--combobox-padding":o===void 0?void 0:ue(o),"--combobox-option-fz":Ve(t),"--combobox-option-padding":Ce(t,"combobox-option-padding")}}));function w(e){const t=P("Combobox",lo,e),{classNames:o,styles:n,unstyled:l,children:c,store:r,vars:a,onOptionSubmit:i,onClose:d,size:f,dropdownPadding:u,resetSelectionOnOptionHover:s,__staticSelector:g,readOnly:N,...A}=t,E=et(),v=r||E,O=Ee({name:g||"Combobox",classes:k,props:t,classNames:o,styles:n,unstyled:l,vars:a,varsResolver:co}),y=()=>{d==null||d(),v.closeDropdown()};return p.createElement(Ut,{value:{getStyles:O,store:v,onOptionSubmit:i,size:f,resetSelectionOnOptionHover:s,readOnly:N}},p.createElement(G,{opened:v.dropdownOpened,...A,onClose:y,withRoles:!1,unstyled:l},c))}const io=e=>e;w.extend=io;w.classes=k;w.displayName="@mantine/core/Combobox";w.Target=Qe;w.Dropdown=De;w.Options=$e;w.Option=Fe;w.Search=_e;w.Empty=Ae;w.Chevron=Ne;w.Footer=Ie;w.Header=Re;w.EventsTarget=Je;w.DropdownTarget=We;w.Group=ke;w.ClearButton=je;function uo({size:e,style:t,...o}){const n=e!==void 0?{width:ue(e),height:ue(e),...t}:t;return p.createElement("svg",{viewBox:"0 0 10 7",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:n,"aria-hidden":!0,...o},p.createElement("path",{d:"M4 4.586L1.707 2.293A1 1 0 1 0 .293 3.707l3 3a.997.997 0 0 0 1.414 0l5-5A1 1 0 1 0 8.293.293L4 4.586z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"}))}function ae(e){return"group"in e}function tt({options:e,search:t,limit:o}){const n=t.trim().toLowerCase(),l=[];for(let c=0;c<e.length;c+=1){const r=e[c];if(l.length===o)return l;ae(r)&&l.push({group:r.group,items:tt({options:r.items,search:t,limit:o-l.length})}),ae(r)||r.label.toLowerCase().includes(n)&&l.push(r)}return l}function po(e){if(e.length===0)return!0;for(const t of e)if(!("group"in t)||t.items.length>0)return!1;return!0}function ot(e,t=new Set){if(Array.isArray(e))for(const o of e)if(ae(o))ot(o.items,t);else{if(typeof o.value>"u")throw new Error("[@mantine/core] Each option must have value property");if(typeof o.value!="string")throw new Error(`[@mantine/core] Option value must be a string, other data formats are not supported, got ${typeof o.value}`);if(t.has(o.value))throw new Error(`[@mantine/core] Duplicate options are not supported. Option with value "${o.value}" was provided more than once`);t.add(o.value)}}function mo(e,t){return Array.isArray(e)?e.includes(t):e===t}function rt({data:e,withCheckIcon:t,value:o,checkIconPosition:n,unstyled:l,renderOption:c}){if(!ae(e)){const a=mo(o,e.value),i=t&&a&&p.createElement(uo,{className:k.optionsDropdownCheckIcon}),d=p.createElement(p.Fragment,null,n==="left"&&i,p.createElement("span",null,e.label),n==="right"&&i);return p.createElement(w.Option,{value:e.value,disabled:e.disabled,className:qe({[k.optionsDropdownOption]:!l}),"data-reverse":n==="right"||void 0,"data-checked":a||void 0,"aria-selected":a,active:a},typeof c=="function"?c({option:e,checked:a}):d)}const r=e.items.map(a=>p.createElement(rt,{data:a,value:o,key:a.value,unstyled:l,withCheckIcon:t,checkIconPosition:n}));return p.createElement(w.Group,{label:e.group},r)}function fo({data:e,hidden:t,hiddenWhenEmpty:o,filter:n,search:l,limit:c,maxDropdownHeight:r,withScrollArea:a=!0,filterOptions:i=!0,withCheckIcon:d=!1,value:f,checkIconPosition:u,nothingFoundMessage:s,unstyled:g,labelId:N,renderOption:A}){ot(e);const v=typeof l=="string"?(n||tt)({options:e,search:i?l:"",limit:c??1/0}):e,O=po(v),y=v.map(h=>p.createElement(rt,{data:h,key:ae(h)?h.group:h.value,withCheckIcon:d,value:f,checkIconPosition:u,unstyled:g,renderOption:A}));return p.createElement(w.Dropdown,{hidden:t||o&&O},p.createElement(w.Options,{labelledBy:N},a?p.createElement(At.Autosize,{mah:r??220,type:"scroll",scrollbarSize:"var(--combobox-padding)",offsetScrollbars:"y"},y):y,O&&s&&p.createElement(w.Empty,null,s)))}const bo={searchable:!1,withCheckIcon:!0,allowDeselect:!0,checkIconPosition:"left"},nt=T((e,t)=>{const o=P("Select",bo,e),{classNames:n,styles:l,unstyled:c,vars:r,dropdownOpened:a,defaultDropdownOpened:i,onDropdownClose:d,onDropdownOpen:f,onFocus:u,onBlur:s,onClick:g,onChange:N,data:A,value:E,defaultValue:v,selectFirstOptionOnChange:O,onOptionSubmit:y,comboboxProps:h,readOnly:_,disabled:K,filter:Z,limit:j,withScrollArea:W,maxDropdownHeight:J,size:q,searchable:R,rightSection:Q,checkIconPosition:ee,withCheckIcon:te,nothingFoundMessage:b,name:S,form:x,searchValue:D,defaultSearchValue:U,onSearchChange:oe,allowDeselect:fe,error:ce,rightSectionPointerEvents:be,id:ge,clearable:he,clearButtonProps:ie,hiddenInputProps:we,renderOption:ve,onClear:re,autoComplete:ye,...xe}=o,X=m.useMemo(()=>qt(A),[A]),C=m.useMemo(()=>Ze(X),[X]),de=Se(ge),[z,ne]=pe({value:E,defaultValue:v,finalValue:null,onChange:N}),L=typeof z=="string"?C[z]:void 0,[Y,V]=pe({value:D,defaultValue:U,finalValue:L?L.label:"",onChange:oe}),I=et({opened:a,defaultOpened:i,onDropdownOpen:()=>{f==null||f(),I.updateSelectedOptionIndex("active",{scrollIntoView:!0})},onDropdownClose:()=>{d==null||d(),I.resetSelectedOption()}}),{resolvedClassNames:se,resolvedStyles:H}=Rt({props:o,styles:l,classNames:n});m.useEffect(()=>{O&&I.selectFirstOption()},[O,z]),m.useEffect(()=>{E===null&&V(""),typeof E=="string"&&L&&V(L.label)},[E,L]);const ze=he&&!!z&&!K&&!_&&p.createElement(w.ClearButton,{size:q,...ie,onClear:()=>{ne(null,null),V(""),re==null||re()}});return p.createElement(p.Fragment,null,p.createElement(w,{store:I,__staticSelector:"Select",classNames:se,styles:H,unstyled:c,readOnly:_,onOptionSubmit:F=>{y==null||y(F);const B=fe&&C[F].value===z?null:C[F],Le=B?B.value:null;ne(Le,B),V(typeof Le=="string"&&(B==null?void 0:B.label)||""),I.closeDropdown()},size:q,...h},p.createElement(w.Target,{targetType:R?"input":"button",autoComplete:ye},p.createElement(Me,{id:de,ref:t,rightSection:Q||ze||p.createElement(w.Chevron,{size:q,error:ce,unstyled:c}),rightSectionPointerEvents:be||(ze?"all":"none"),...xe,size:q,__staticSelector:"Select",disabled:K,readOnly:_||!R,value:Y,onChange:F=>{V(F.currentTarget.value),I.openDropdown(),O&&I.selectFirstOption()},onFocus:F=>{R&&I.openDropdown(),u==null||u(F)},onBlur:F=>{var B;R&&I.closeDropdown(),V(z!=null&&((B=C[z])==null?void 0:B.label)||""),s==null||s(F)},onClick:F=>{R?I.openDropdown():I.toggleDropdown(),g==null||g(F)},classNames:se,styles:H,unstyled:c,pointer:!R,error:ce})),p.createElement(fo,{data:X,hidden:_||K,filter:Z,search:Y,limit:j,hiddenWhenEmpty:!R||!b,withScrollArea:W,maxDropdownHeight:J,filterOptions:R&&(L==null?void 0:L.label)!==Y,value:z,checkIconPosition:ee,withCheckIcon:te,nothingFoundMessage:b,unstyled:c,labelId:`${de}-label`,renderOption:ve})),p.createElement("input",{type:"hidden",name:S,value:z||"",form:x,disabled:K,...we}))});nt.classes={...Me.classes,...w.classes};nt.displayName="@mantine/core/Select";export{G as P,nt as S,Rt as u};
