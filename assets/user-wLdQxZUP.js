import{g as xr,c as N,r as Et}from"./jsx-runtime-ByGpHSPZ.js";import{g as jr,U as Lt,a as Dt,u as Ur}from"./gql-f3x5Sumy.js";import{b,l as Ir,h as Mt,c as Pt,u as zt}from"./store-yifqSBJQ.js";import{u as Er}from"./utils-fBPkF14O.js";var G={exports:{}};G.exports;(function(l,c){var h=200,T="__lodash_hash_undefined__",A=800,E=16,w=9007199254740991,at="[object Arguments]",Rt="[object Array]",Ht="[object AsyncFunction]",Nt="[object Boolean]",Gt="[object Date]",Bt="[object Error]",it="[object Function]",$t="[object GeneratorFunction]",qt="[object Map]",Kt="[object Number]",Vt="[object Null]",ot="[object Object]",Wt="[object Proxy]",Qt="[object RegExp]",Jt="[object Set]",Xt="[object String]",Yt="[object Undefined]",Zt="[object WeakMap]",kt="[object ArrayBuffer]",te="[object DataView]",ee="[object Float32Array]",re="[object Float64Array]",ne="[object Int8Array]",ae="[object Int16Array]",ie="[object Int32Array]",oe="[object Uint8Array]",se="[object Uint8ClampedArray]",ue="[object Uint16Array]",fe="[object Uint32Array]",ce=/[\\^$.*+?()[\]{}|]/g,le=/^\[object .+?Constructor\]$/,pe=/^(?:0|[1-9]\d*)$/,s={};s[ee]=s[re]=s[ne]=s[ae]=s[ie]=s[oe]=s[se]=s[ue]=s[fe]=!0,s[at]=s[Rt]=s[kt]=s[Nt]=s[te]=s[Gt]=s[Bt]=s[it]=s[qt]=s[Kt]=s[ot]=s[Qt]=s[Jt]=s[Xt]=s[Zt]=!1;var st=typeof N=="object"&&N&&N.Object===Object&&N,de=typeof self=="object"&&self&&self.Object===Object&&self,C=st||de||Function("return this")(),ut=c&&!c.nodeType&&c,x=ut&&!0&&l&&!l.nodeType&&l,ft=x&&x.exports===ut,B=ft&&st.process,ct=function(){try{var t=x&&x.require&&x.require("util").types;return t||B&&B.binding&&B.binding("util")}catch{}}(),lt=ct&&ct.isTypedArray;function he(t,e,r){switch(r.length){case 0:return t.call(e);case 1:return t.call(e,r[0]);case 2:return t.call(e,r[0],r[1]);case 3:return t.call(e,r[0],r[1],r[2])}return t.apply(e,r)}function ge(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}function _e(t){return function(e){return t(e)}}function be(t,e){return t==null?void 0:t[e]}function ye(t,e){return function(r){return t(e(r))}}var ve=Array.prototype,me=Function.prototype,P=Object.prototype,$=C["__core-js_shared__"],z=me.toString,g=P.hasOwnProperty,pt=function(){var t=/[^.]+$/.exec($&&$.keys&&$.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}(),dt=P.toString,Te=z.call(Object),Ae=RegExp("^"+z.call(g).replace(ce,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),L=ft?C.Buffer:void 0,ht=C.Symbol,gt=C.Uint8Array,_t=L?L.allocUnsafe:void 0,bt=ye(Object.getPrototypeOf,Object),yt=Object.create,Oe=P.propertyIsEnumerable,Se=ve.splice,y=ht?ht.toStringTag:void 0,D=function(){try{var t=V(Object,"defineProperty");return t({},"",{}),t}catch{}}(),we=L?L.isBuffer:void 0,vt=Math.max,Ce=Date.now,mt=V(C,"Map"),j=V(Object,"create"),xe=function(){function t(){}return function(e){if(!m(e))return{};if(yt)return yt(e);t.prototype=e;var r=new t;return t.prototype=void 0,r}}();function v(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function je(){this.__data__=j?j(null):{},this.size=0}function Ue(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}function Ie(t){var e=this.__data__;if(j){var r=e[t];return r===T?void 0:r}return g.call(e,t)?e[t]:void 0}function Ee(t){var e=this.__data__;return j?e[t]!==void 0:g.call(e,t)}function Pe(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=j&&e===void 0?T:e,this}v.prototype.clear=je,v.prototype.delete=Ue,v.prototype.get=Ie,v.prototype.has=Ee,v.prototype.set=Pe;function _(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function ze(){this.__data__=[],this.size=0}function Le(t){var e=this.__data__,r=M(e,t);if(r<0)return!1;var n=e.length-1;return r==n?e.pop():Se.call(e,r,1),--this.size,!0}function De(t){var e=this.__data__,r=M(e,t);return r<0?void 0:e[r][1]}function Me(t){return M(this.__data__,t)>-1}function Fe(t,e){var r=this.__data__,n=M(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this}_.prototype.clear=ze,_.prototype.delete=Le,_.prototype.get=De,_.prototype.has=Me,_.prototype.set=Fe;function O(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function Re(){this.size=0,this.__data__={hash:new v,map:new(mt||_),string:new v}}function He(t){var e=R(this,t).delete(t);return this.size-=e?1:0,e}function Ne(t){return R(this,t).get(t)}function Ge(t){return R(this,t).has(t)}function Be(t,e){var r=R(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this}O.prototype.clear=Re,O.prototype.delete=He,O.prototype.get=Ne,O.prototype.has=Ge,O.prototype.set=Be;function S(t){var e=this.__data__=new _(t);this.size=e.size}function $e(){this.__data__=new _,this.size=0}function qe(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r}function Ke(t){return this.__data__.get(t)}function Ve(t){return this.__data__.has(t)}function We(t,e){var r=this.__data__;if(r instanceof _){var n=r.__data__;if(!mt||n.length<h-1)return n.push([t,e]),this.size=++r.size,this;r=this.__data__=new O(n)}return r.set(t,e),this.size=r.size,this}S.prototype.clear=$e,S.prototype.delete=qe,S.prototype.get=Ke,S.prototype.has=Ve,S.prototype.set=We;function Qe(t,e){var r=J(t),n=!r&&Q(t),i=!r&&!n&&wt(t),o=!r&&!n&&!i&&xt(t),u=r||n||i||o,a=u?ge(t.length,String):[],f=a.length;for(var d in t)(e||g.call(t,d))&&!(u&&(d=="length"||i&&(d=="offset"||d=="parent")||o&&(d=="buffer"||d=="byteLength"||d=="byteOffset")||Ot(d,f)))&&a.push(d);return a}function q(t,e,r){(r!==void 0&&!H(t[e],r)||r===void 0&&!(e in t))&&K(t,e,r)}function Je(t,e,r){var n=t[e];(!(g.call(t,e)&&H(n,r))||r===void 0&&!(e in t))&&K(t,e,r)}function M(t,e){for(var r=t.length;r--;)if(H(t[r][0],e))return r;return-1}function K(t,e,r){e=="__proto__"&&D?D(t,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[e]=r}var Xe=fr();function F(t){return t==null?t===void 0?Yt:Vt:y&&y in Object(t)?cr(t):_r(t)}function Tt(t){return U(t)&&F(t)==at}function Ye(t){if(!m(t)||hr(t))return!1;var e=Y(t)?Ae:le;return e.test(mr(t))}function Ze(t){return U(t)&&Ct(t.length)&&!!s[F(t)]}function ke(t){if(!m(t))return gr(t);var e=St(t),r=[];for(var n in t)n=="constructor"&&(e||!g.call(t,n))||r.push(n);return r}function At(t,e,r,n,i){t!==e&&Xe(e,function(o,u){if(i||(i=new S),m(o))tr(t,e,u,r,At,n,i);else{var a=n?n(W(t,u),o,u+"",t,e,i):void 0;a===void 0&&(a=o),q(t,u,a)}},jt)}function tr(t,e,r,n,i,o,u){var a=W(t,r),f=W(e,r),d=u.get(f);if(d){q(t,r,d);return}var p=o?o(a,f,r+"",t,e,u):void 0,I=p===void 0;if(I){var Z=J(f),k=!Z&&wt(f),It=!Z&&!k&&xt(f);p=f,Z||k||It?J(a)?p=a:Tr(a)?p=or(a):k?(I=!1,p=nr(f,!0)):It?(I=!1,p=ir(f,!0)):p=[]:Ar(f)||Q(f)?(p=a,Q(a)?p=Or(a):(!m(a)||Y(a))&&(p=lr(f))):I=!1}I&&(u.set(f,p),i(p,f,n,o,u),u.delete(f)),q(t,r,p)}function er(t,e){return yr(br(t,e,Ut),t+"")}var rr=D?function(t,e){return D(t,"toString",{configurable:!0,enumerable:!1,value:wr(e),writable:!0})}:Ut;function nr(t,e){if(e)return t.slice();var r=t.length,n=_t?_t(r):new t.constructor(r);return t.copy(n),n}function ar(t){var e=new t.constructor(t.byteLength);return new gt(e).set(new gt(t)),e}function ir(t,e){var r=e?ar(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.length)}function or(t,e){var r=-1,n=t.length;for(e||(e=Array(n));++r<n;)e[r]=t[r];return e}function sr(t,e,r,n){var i=!r;r||(r={});for(var o=-1,u=e.length;++o<u;){var a=e[o],f=n?n(r[a],t[a],a,r,t):void 0;f===void 0&&(f=t[a]),i?K(r,a,f):Je(r,a,f)}return r}function ur(t){return er(function(e,r){var n=-1,i=r.length,o=i>1?r[i-1]:void 0,u=i>2?r[2]:void 0;for(o=t.length>3&&typeof o=="function"?(i--,o):void 0,u&&pr(r[0],r[1],u)&&(o=i<3?void 0:o,i=1),e=Object(e);++n<i;){var a=r[n];a&&t(e,a,n,o)}return e})}function fr(t){return function(e,r,n){for(var i=-1,o=Object(e),u=n(e),a=u.length;a--;){var f=u[t?a:++i];if(r(o[f],f,o)===!1)break}return e}}function R(t,e){var r=t.__data__;return dr(e)?r[typeof e=="string"?"string":"hash"]:r.map}function V(t,e){var r=be(t,e);return Ye(r)?r:void 0}function cr(t){var e=g.call(t,y),r=t[y];try{t[y]=void 0;var n=!0}catch{}var i=dt.call(t);return n&&(e?t[y]=r:delete t[y]),i}function lr(t){return typeof t.constructor=="function"&&!St(t)?xe(bt(t)):{}}function Ot(t,e){var r=typeof t;return e=e??w,!!e&&(r=="number"||r!="symbol"&&pe.test(t))&&t>-1&&t%1==0&&t<e}function pr(t,e,r){if(!m(r))return!1;var n=typeof e;return(n=="number"?X(r)&&Ot(e,r.length):n=="string"&&e in r)?H(r[e],t):!1}function dr(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}function hr(t){return!!pt&&pt in t}function St(t){var e=t&&t.constructor,r=typeof e=="function"&&e.prototype||P;return t===r}function gr(t){var e=[];if(t!=null)for(var r in Object(t))e.push(r);return e}function _r(t){return dt.call(t)}function br(t,e,r){return e=vt(e===void 0?t.length-1:e,0),function(){for(var n=arguments,i=-1,o=vt(n.length-e,0),u=Array(o);++i<o;)u[i]=n[e+i];i=-1;for(var a=Array(e+1);++i<e;)a[i]=n[i];return a[e]=r(u),he(t,this,a)}}function W(t,e){if(!(e==="constructor"&&typeof t[e]=="function")&&e!="__proto__")return t[e]}var yr=vr(rr);function vr(t){var e=0,r=0;return function(){var n=Ce(),i=E-(n-r);if(r=n,i>0){if(++e>=A)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}function mr(t){if(t!=null){try{return z.call(t)}catch{}try{return t+""}catch{}}return""}function H(t,e){return t===e||t!==t&&e!==e}var Q=Tt(function(){return arguments}())?Tt:function(t){return U(t)&&g.call(t,"callee")&&!Oe.call(t,"callee")},J=Array.isArray;function X(t){return t!=null&&Ct(t.length)&&!Y(t)}function Tr(t){return U(t)&&X(t)}var wt=we||Cr;function Y(t){if(!m(t))return!1;var e=F(t);return e==it||e==$t||e==Ht||e==Wt}function Ct(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=w}function m(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}function U(t){return t!=null&&typeof t=="object"}function Ar(t){if(!U(t)||F(t)!=ot)return!1;var e=bt(t);if(e===null)return!0;var r=g.call(e,"constructor")&&e.constructor;return typeof r=="function"&&r instanceof r&&z.call(r)==Te}var xt=lt?_e(lt):Ze;function Or(t){return sr(t,jt(t))}function jt(t){return X(t)?Qe(t,!0):ke(t)}var Sr=ur(function(t,e,r){At(t,e,r)});function wr(t){return function(){return t}}function Ut(t){return t}function Cr(){return!1}l.exports=Sr})(G,G.exports);var Pr=G.exports;const Gr=xr(Pr),zr=jr(`
  query user($username: String!) {
    user: userByUsername(username: $username) {
      ID
      desa {
        deskel
        kabkota
        provinsi
      }
      name
      phone
      photoURL
    }
  }
`),Ft=b(null),Lr=b(null),tt=b(Lt.User),et=b(null),rt=b(Dt.Unverified),nt=b(Ir().get(Mt)),Dr=b(l=>({level:l(tt),desa:l(et),status:l(rt),token:l(nt)}),(l,c,h)=>{if(h==null){c(nt,l(Mt)),c(rt,Dt.Unverified),c(et,null),c(tt,Lt.User);return}c(nt,h.access_token),c(et,h.desa),c(rt,h.status),c(tt,h.level)}),Mr=b(!1);function Br(){const l=Pt(Mr),c=zt(Ft),h=zt(Dr),T=Pt(Lr),[{data:A,fetching:E}]=Ur({query:zr,variables:{username:c??""},pause:c==null});return Et.useEffect(()=>{if(c==null){T(null);return}if(A==null||A.user==null)return;const w=A.user;T({name:w.name,photoURL:w.photoURL,role:h.level,status:h.status})},[c,h,T,A]),Et.useEffect(()=>{l(E)},[E]),null}function $r(l){return Er([[Ft,l.username]]),null}export{$r as U,Br as a,Gr as m};
