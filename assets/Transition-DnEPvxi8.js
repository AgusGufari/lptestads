import{r as s,R as d}from"./jsx-runtime-ByGpHSPZ.js";import{r as c,n as h}from"./factory-CAXpoK4s.js";import{R as X}from"./index-CMx3RsMM.js";import{u as $,a as k}from"./use-reduced-motion-yJY9mgkS.js";const m=t=>({in:{opacity:1,transform:"scale(1)"},out:{opacity:0,transform:`scale(.9) translateY(${c(t==="bottom"?10:-10)})`},transitionProperty:"transform, opacity"}),O={fade:{in:{opacity:1},out:{opacity:0},transitionProperty:"opacity"},scale:{in:{opacity:1,transform:"scale(1)"},out:{opacity:0,transform:"scale(0)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"scale-y":{in:{opacity:1,transform:"scaleY(1)"},out:{opacity:0,transform:"scaleY(0)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"scale-x":{in:{opacity:1,transform:"scaleX(1)"},out:{opacity:0,transform:"scaleX(0)"},common:{transformOrigin:"left"},transitionProperty:"transform, opacity"},"skew-up":{in:{opacity:1,transform:"translateY(0) skew(0deg, 0deg)"},out:{opacity:0,transform:`translateY(${c(-20)}) skew(-10deg, -5deg)`},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"skew-down":{in:{opacity:1,transform:"translateY(0) skew(0deg, 0deg)"},out:{opacity:0,transform:`translateY(${c(20)}) skew(-10deg, -5deg)`},common:{transformOrigin:"bottom"},transitionProperty:"transform, opacity"},"rotate-left":{in:{opacity:1,transform:"translateY(0) rotate(0deg)"},out:{opacity:0,transform:`translateY(${c(20)}) rotate(-5deg)`},common:{transformOrigin:"bottom"},transitionProperty:"transform, opacity"},"rotate-right":{in:{opacity:1,transform:"translateY(0) rotate(0deg)"},out:{opacity:0,transform:`translateY(${c(20)}) rotate(5deg)`},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"slide-down":{in:{opacity:1,transform:"translateY(0)"},out:{opacity:0,transform:"translateY(-100%)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"slide-up":{in:{opacity:1,transform:"translateY(0)"},out:{opacity:0,transform:"translateY(100%)"},common:{transformOrigin:"bottom"},transitionProperty:"transform, opacity"},"slide-left":{in:{opacity:1,transform:"translateX(0)"},out:{opacity:0,transform:"translateX(100%)"},common:{transformOrigin:"left"},transitionProperty:"transform, opacity"},"slide-right":{in:{opacity:1,transform:"translateX(0)"},out:{opacity:0,transform:"translateX(-100%)"},common:{transformOrigin:"right"},transitionProperty:"transform, opacity"},pop:{...m("bottom"),common:{transformOrigin:"center center"}},"pop-bottom-left":{...m("bottom"),common:{transformOrigin:"bottom left"}},"pop-bottom-right":{...m("bottom"),common:{transformOrigin:"bottom right"}},"pop-top-left":{...m("top"),common:{transformOrigin:"top left"}},"pop-top-right":{...m("top"),common:{transformOrigin:"top right"}}},S={entering:"in",entered:"in",exiting:"out",exited:"out","pre-exiting":"out","pre-entering":"out"};function E({transition:t,state:a,duration:e,timingFunction:o}){const r={transitionDuration:`${e}ms`,transitionTimingFunction:o};return typeof t=="string"?t in O?{transitionProperty:O[t].transitionProperty,...r,...O[t].common,...O[t][S[a]]}:{}:{transitionProperty:t.transitionProperty,...r,...t.common,...t[S[a]]}}function A({duration:t,exitDuration:a,timingFunction:e,mounted:o,onEnter:r,onExit:i,onEntered:P,onExited:w}){const Y=h(),T=$(),p=Y.respectReducedMotion?T:!1,[f,y]=s.useState(p?0:t),[x,u]=s.useState(o?"entered":"exited"),b=s.useRef(-1),R=s.useRef(-1),D=n=>{const l=n?r:i,g=n?P:w;window.clearTimeout(b.current);const F=p?0:n?t:a;y(F),F===0?(typeof l=="function"&&l(),typeof g=="function"&&g(),u(n?"entered":"exited")):R.current=requestAnimationFrame(()=>{X.flushSync(()=>{u(n?"pre-entering":"pre-exiting")}),R.current=requestAnimationFrame(()=>{typeof l=="function"&&l(),u(n?"entering":"exiting"),b.current=window.setTimeout(()=>{typeof g=="function"&&g(),u(n?"entered":"exited")},F)})})};return k(()=>{D(o)},[o]),s.useEffect(()=>()=>{window.clearTimeout(b.current),cancelAnimationFrame(R.current)},[]),{transitionDuration:f,transitionStatus:x,transitionTimingFunction:e||"ease"}}function q({keepMounted:t,transition:a="fade",duration:e=250,exitDuration:o=e,mounted:r,children:i,timingFunction:P="ease",onExit:w,onEntered:Y,onEnter:T,onExited:p}){const{transitionDuration:f,transitionStatus:y,transitionTimingFunction:x}=A({mounted:r,exitDuration:o,duration:e,timingFunction:P,onExit:w,onEntered:Y,onEnter:T,onExited:p});return f===0?r?d.createElement(d.Fragment,null,i({})):t?i({display:"none"}):null:y==="exited"?t?i({display:"none"}):null:d.createElement(d.Fragment,null,i(E({transition:a,duration:f,state:y,timingFunction:x})))}q.displayName="@mantine/core/Transition";export{q as T};
